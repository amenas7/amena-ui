<div class="input-container">
  <!-- Label -->
  <label *ngIf="label" [for]="id || name" class="input-label">
    {{ label }}
    <span *ngIf="required" class="required-indicator">*</span>
  </label>

  <!-- Input wrapper -->
  <div class="input-wrapper">
    <!-- Left icon -->
    <div *ngIf="leftIcon" class="input-icon left-icon">
      <i [class]="leftIcon"></i>
    </div>

    <!-- Input field -->
    <input
      [type]="inputType"
      [placeholder]="placeholder"
      [disabled]="disabled"
      [readonly]="readonly"
      [required]="required"
      [name]="name"
      [id]="id || name"
      [maxLength]="maxlength"
      [minLength]="minlength"
      [pattern]="pattern"
      [autocomplete]="autocomplete"
      [value]="value"
      [class]="inputClasses"
      (input)="onInput($event)"
      (focus)="onFocus($event)"
      (blur)="onBlur($event)"
    />

    <!-- Right icon or password toggle -->
    <div *ngIf="rightIcon && !showPasswordToggleButton" class="input-icon right-icon">
      <i [class]="rightIcon"></i>
    </div>

    <!-- Password toggle button -->
    <button
      *ngIf="showPasswordToggleButton"
      type="button"
      class="password-toggle-btn"
      (click)="togglePasswordVisibility()"
      [attr.aria-label]="showPassword ? 'Ocultar contraseña' : 'Mostrar contraseña'"
    >
      <i [class]="showPassword ? 'fas fa-eye-slash' : 'fas fa-eye'"></i>
    </button>
  </div>

  <!-- Helper text -->
  <div *ngIf="helperText && !errorText" class="helper-text">
    {{ helperText }}
  </div>

  <!-- Error text -->
  <div *ngIf="errorText" class="error-text">
    {{ errorText }}
  </div>
</div>
