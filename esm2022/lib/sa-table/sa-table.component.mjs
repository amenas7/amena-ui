import { Component, Input, Output, EventEmitter, ViewChild, ContentChildren } from '@angular/core';
import { SaColumnDefDirective } from './sa-column-def.directive';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "@angular/forms";
export class SaTableComponent {
    resizeListener = null;
    // Arrays/objetos que siempre usan property binding
    columns = [];
    data = [];
    // Solo emptyMessage usa property binding con comillas simples: [emptyMessage]="'texto'"
    emptyMessage = 'No hay datos disponibles';
    // Templates dinámicos por columna usando ContentChildren
    columnDefs;
    defaultCellTemplate;
    // Propiedades con setters/getters para flexibilidad máxima
    _itemsPerPage = 10;
    _showPagination = true;
    _showItemsPerPage = true;
    _showTotal = true;
    _hover = false;
    _loading = false;
    _showFirstLastButtons = true;
    set itemsPerPage(value) {
        this._itemsPerPage = value != null ? +value : 10;
    }
    get itemsPerPage() {
        return this._itemsPerPage;
    }
    set showPagination(value) {
        this._showPagination = value === true || value === 'true';
    }
    get showPagination() {
        return this._showPagination;
    }
    set showItemsPerPage(value) {
        this._showItemsPerPage = value === true || value === 'true';
    }
    get showItemsPerPage() {
        return this._showItemsPerPage;
    }
    set showTotal(value) {
        this._showTotal = value === true || value === 'true';
    }
    get showTotal() {
        return this._showTotal;
    }
    set hover(value) {
        this._hover = value === true || value === 'true';
    }
    get hover() {
        return this._hover;
    }
    set loading(value) {
        this._loading = value === true || value === 'true';
    }
    get loading() {
        return this._loading;
    }
    set showFirstLastButtons(value) {
        this._showFirstLastButtons = value === true || value === 'true';
    }
    get showFirstLastButtons() {
        return this._showFirstLastButtons;
    }
    // Propiedad para el ancho mínimo de la tabla
    _minWidth = '600px';
    set minWidth(value) {
        this._minWidth = value || '600px';
    }
    get minWidth() {
        return this._minWidth;
    }
    pageChange = new EventEmitter();
    itemsPerPageChange = new EventEmitter();
    sortChange = new EventEmitter();
    currentPage = 1;
    currentSort = null;
    paginationInfo = {
        currentPage: 1,
        totalPages: 0,
        totalItems: 0,
        itemsPerPage: 10,
        startItem: 0,
        endItem: 0
    };
    paginatedData = [];
    itemsPerPageOptions = [5, 10, 25, 50, 100];
    // Propiedad para controlar la animación
    animationKey = 0;
    // Propiedad para acceder a Array desde el template
    Array = Array;
    ngOnInit() {
        this.updatePagination();
        this.setupResizeListener();
    }
    ngOnChanges(changes) {
        if (changes['data'] || changes['itemsPerPage'] || changes['currentPage']) {
            this.updatePagination();
        }
    }
    updatePagination() {
        if (!this.data) {
            this.paginatedData = [];
            this.paginationInfo = {
                currentPage: 1,
                totalPages: 0,
                totalItems: 0,
                itemsPerPage: this.itemsPerPage,
                startItem: 0,
                endItem: 0
            };
            return;
        }
        const totalItems = this.data.length;
        const totalPages = Math.ceil(totalItems / this.itemsPerPage);
        const startItem = (this.currentPage - 1) * this.itemsPerPage;
        const endItem = Math.min(startItem + this.itemsPerPage, totalItems);
        this.paginationInfo = {
            currentPage: this.currentPage,
            totalPages,
            totalItems,
            itemsPerPage: this.itemsPerPage,
            startItem: startItem + 1,
            endItem
        };
        this.paginatedData = this.data.slice(startItem, endItem);
    }
    onPageChange(page) {
        if (page >= 1 && page <= this.paginationInfo.totalPages) {
            this.currentPage = page;
            this.animationKey = 0; // Reiniciar la animación
            this.updatePagination();
            this.pageChange.emit(page);
            // Activar la animación después de un breve delay
            setTimeout(() => {
                this.animationKey = Date.now();
                // Marcar como completa después de la duración de la animación
                setTimeout(() => {
                    const tbody = document.querySelector('tbody[data-animation-key]');
                    if (tbody) {
                        tbody.classList.add('animation-complete');
                    }
                }, 300); // Duración de la animación
            }, 10);
        }
    }
    onItemsPerPageChange(itemsPerPage) {
        this.itemsPerPage = itemsPerPage;
        this.currentPage = 1;
        this.animationKey = 0; // Reiniciar la animación
        this.updatePagination();
        this.itemsPerPageChange.emit(itemsPerPage);
        // Activar la animación después de un breve delay
        setTimeout(() => {
            this.animationKey = Date.now();
            // Marcar como completa después de la duración de la animación
            setTimeout(() => {
                const tbody = document.querySelector('tbody[data-animation-key]');
                if (tbody) {
                    tbody.classList.add('animation-complete');
                }
            }, 300); // Duración de la animación
        }, 10);
    }
    onSort(column) {
        if (!this.columns.find(col => col.key === column)?.sortable) {
            return;
        }
        if (this.currentSort?.column === column) {
            this.currentSort.direction = this.currentSort.direction === 'asc' ? 'desc' : 'asc';
        }
        else {
            this.currentSort = { column, direction: 'asc' };
        }
        this.sortChange.emit(this.currentSort);
    }
    getSortIcon(column) {
        if (this.currentSort?.column !== column) {
            return 'bi-arrow-down-up';
        }
        return this.currentSort.direction === 'asc' ? 'bi-arrow-up' : 'bi-arrow-down';
    }
    getPageNumbers() {
        const pages = [];
        const totalPages = this.paginationInfo.totalPages;
        const currentPage = this.currentPage;
        // Detectar si estamos en un dispositivo pequeño (menos de 768px)
        const isSmallScreen = window.innerWidth < 768;
        if (totalPages <= 7) {
            // Para pocas páginas, mostrar todas
            for (let i = 1; i <= totalPages; i++) {
                pages.push(i);
            }
        }
        else if (isSmallScreen) {
            // En dispositivos pequeños, mostrar solo 2 páginas máximo
            if (currentPage <= 2) {
                // Al inicio: mostrar páginas 1, 2 + separador + última
                for (let i = 1; i <= Math.min(2, totalPages); i++) {
                    pages.push(i);
                }
                if (totalPages > 2) {
                    pages.push(-1); // Separator
                    pages.push(totalPages);
                }
            }
            else if (currentPage >= totalPages - 1) {
                // Al final: mostrar primera + separador + últimas 2 páginas
                pages.push(1);
                pages.push(-1); // Separator
                for (let i = Math.max(totalPages - 1, 1); i <= totalPages; i++) {
                    pages.push(i);
                }
            }
            else {
                // En medio: mostrar primera + separador + actual + separador + última
                pages.push(1);
                pages.push(-1); // Separator
                pages.push(currentPage);
                pages.push(-1); // Separator
                pages.push(totalPages);
            }
        }
        else {
            // En pantallas grandes, comportamiento original
            if (currentPage <= 4) {
                for (let i = 1; i <= 5; i++) {
                    pages.push(i);
                }
                pages.push(-1); // Separator
                pages.push(totalPages);
            }
            else if (currentPage >= totalPages - 3) {
                pages.push(1);
                pages.push(-1); // Separator
                for (let i = totalPages - 4; i <= totalPages; i++) {
                    pages.push(i);
                }
            }
            else {
                pages.push(1);
                pages.push(-1); // Separator
                for (let i = currentPage - 1; i <= currentPage + 1; i++) {
                    pages.push(i);
                }
                pages.push(-1); // Separator
                pages.push(totalPages);
            }
        }
        return pages;
    }
    trackByFn(index, item) {
        return index;
    }
    // Método para obtener el template de una columna específica
    getColumnTemplate(columnKey) {
        if (!this.columnDefs) {
            return null;
        }
        const columnDef = this.columnDefs.find(def => def.columnKey === columnKey);
        return columnDef ? columnDef.templateRef : null;
    }
    // Método para obtener el contexto del template
    getTemplateContext(row, column) {
        return {
            $implicit: row[column.key],
            row: row,
            column: column,
            element: row, // Para compatibilidad con Angular Material
            value: row[column.key]
        };
    }
    onSelectChange(event) {
        const target = event.target;
        if (target) {
            this.onItemsPerPageChange(+target.value);
        }
    }
    setupResizeListener() {
        this.resizeListener = () => {
            // Actualizar paginación cuando cambie el tamaño de la ventana
            this.updatePagination();
        };
        window.addEventListener('resize', this.resizeListener);
    }
    ngOnDestroy() {
        if (this.resizeListener) {
            window.removeEventListener('resize', this.resizeListener);
        }
    }
    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.2.13", ngImport: i0, type: SaTableComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });
    static ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "18.2.13", type: SaTableComponent, selector: "sa-table", inputs: { columns: "columns", data: "data", emptyMessage: "emptyMessage", itemsPerPage: "itemsPerPage", showPagination: "showPagination", showItemsPerPage: "showItemsPerPage", showTotal: "showTotal", hover: "hover", loading: "loading", showFirstLastButtons: "showFirstLastButtons", minWidth: "minWidth" }, outputs: { pageChange: "pageChange", itemsPerPageChange: "itemsPerPageChange", sortChange: "sortChange" }, queries: [{ propertyName: "columnDefs", predicate: SaColumnDefDirective }], viewQueries: [{ propertyName: "defaultCellTemplate", first: true, predicate: ["defaultCellTemplate"], descendants: true, static: true }], usesOnChanges: true, ngImport: i0, template: "<!-- Table Container -->\r\n<div class=\"sa-table-container\">\r\n  <!-- Table Content (siempre visible) -->\r\n  <div class=\"table-content\" [class.loading]=\"loading\">\r\n  \r\n  <!-- Table -->\r\n  <div class=\"table-responsive table-container\">\r\n    <table class=\"table\" \r\n           [class.table-hover]=\"hover\"\r\n           [style.min-width]=\"minWidth\">\r\n      <thead class=\"table-light\">\r\n        <tr>\r\n          <th *ngFor=\"let column of columns\" \r\n              [style.width]=\"column.width\">\r\n            <div class=\"d-flex align-items-center justify-content-between\">\r\n              <span>{{ column.label }}</span>\r\n            </div>\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      <tbody [class.animate-fade-in]=\"animationKey > 0\" [class.animation-complete]=\"animationKey > 0\" [attr.data-animation-key]=\"animationKey\">\r\n        <tr *ngFor=\"let row of paginatedData; trackBy: trackByFn\">\r\n          <td *ngFor=\"let column of columns\" [style.width]=\"column.width\">\r\n            <!-- Usar template espec\u00EDfico de la columna si existe, sino usar el default -->\r\n            <ng-container *ngTemplateOutlet=\"getColumnTemplate(column.key) || defaultCellTemplate!; context: getTemplateContext(row, column)\">\r\n            </ng-container>\r\n          </td>\r\n        </tr>\r\n        <tr *ngIf=\"paginatedData.length === 0\">\r\n          <td [attr.colspan]=\"columns.length\" class=\"text-center py-4 text-muted\">\r\n            {{ emptyMessage }}\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    \r\n    <!-- Loading Overlay solo sobre la tabla -->\r\n    <div *ngIf=\"loading\" class=\"loading-overlay\">\r\n      <div class=\"loading-content\">\r\n        <div class=\"spinner-border text-primary\" role=\"status\">\r\n        </div>\r\n        <div class=\"loading-text\">Cargando...</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Items Per Page Selector and Pagination Controls (en una sola fila) -->\r\n  <div *ngIf=\"showPagination && data.length > 0\" class=\"d-flex flex-column flex-md-row justify-content-center justify-content-md-between align-items-center mt-2\">\r\n    <!-- Items Per Page Selector (izquierda) -->\r\n    <div *ngIf=\"showItemsPerPage\" class=\"d-flex align-items-center mb-2 mb-md-0\">\r\n      <span class=\"text-muted me-2\">Registros por p\u00E1gina:</span>\r\n      <select \r\n        id=\"itemsPerPage\"\r\n        class=\"form-select form-select-sm\" \r\n        style=\"width: auto;\"\r\n        [value]=\"itemsPerPage\"\r\n        (change)=\"onSelectChange($event)\">\r\n        <option *ngFor=\"let option of itemsPerPageOptions\" [value]=\"option\">\r\n          {{ option }}\r\n        </option>\r\n      </select>\r\n    </div>\r\n    \r\n    <!-- Pagination Info and Controls (derecha) -->\r\n    <div class=\"d-flex flex-column flex-md-row align-items-center\">\r\n      <div *ngIf=\"showTotal\" class=\"text-muted mb-2 mb-md-0 me-md-3 text-center text-md-start\">\r\n        P\u00E1gina: {{ paginationInfo.currentPage }} - {{ paginationInfo.startItem }} de {{ paginationInfo.totalItems }}\r\n      </div>\r\n      \r\n      <nav *ngIf=\"paginationInfo.totalPages > 1\" aria-label=\"Navegaci\u00F3n de p\u00E1ginas\">\r\n        <ul class=\"pagination mb-0 justify-content-center justify-content-md-start\">\r\n                <!-- First Page Button -->\r\n        <li *ngIf=\"showFirstLastButtons\" class=\"page-item\" [class.disabled]=\"currentPage === 1\">\r\n          <button class=\"page-link\" \r\n                  (click)=\"onPageChange(1)\"\r\n                  [disabled]=\"currentPage === 1\"\r\n                  aria-label=\"Primera p\u00E1gina\">\r\n            <span class=\"pagination-icon pagination-first\">\u00AB</span>\r\n          </button>\r\n        </li>\r\n\r\n        <!-- Previous Button -->\r\n        <li class=\"page-item\" [class.disabled]=\"currentPage === 1\">\r\n          <button class=\"page-link\" \r\n                  (click)=\"onPageChange(currentPage - 1)\"\r\n                  [disabled]=\"currentPage === 1\"\r\n                  aria-label=\"P\u00E1gina anterior\">\r\n            <span class=\"pagination-icon\">\u2039</span>\r\n          </button>\r\n        </li>\r\n\r\n        <!-- Page Numbers -->\r\n        <li *ngFor=\"let page of getPageNumbers()\" \r\n            class=\"page-item\"\r\n            [class.active]=\"page === currentPage\"\r\n            [class.disabled]=\"page === -1\">\r\n          <button *ngIf=\"page !== -1\" \r\n                  class=\"page-link\" \r\n                  (click)=\"onPageChange(page)\">\r\n            {{ page }}\r\n          </button>\r\n          <span *ngIf=\"page === -1\" class=\"page-link\">...</span>\r\n        </li>\r\n\r\n        <!-- Next Button -->\r\n        <li class=\"page-item\" [class.disabled]=\"currentPage === paginationInfo.totalPages\">\r\n          <button class=\"page-link\" \r\n                  (click)=\"onPageChange(currentPage + 1)\"\r\n                  [disabled]=\"currentPage === paginationInfo.totalPages\"\r\n                  aria-label=\"P\u00E1gina siguiente\">\r\n            <span class=\"pagination-icon\">\u203A</span>\r\n          </button>\r\n        </li>\r\n\r\n        <!-- Last Page Button -->\r\n        <li *ngIf=\"showFirstLastButtons\" class=\"page-item\" [class.disabled]=\"currentPage === paginationInfo.totalPages\">\r\n          <button class=\"page-link\" \r\n                  (click)=\"onPageChange(paginationInfo.totalPages)\"\r\n                  [disabled]=\"currentPage === paginationInfo.totalPages\"\r\n                  aria-label=\"\u00DAltima p\u00E1gina\">\r\n            <span class=\"pagination-icon pagination-last\">\u00BB</span>\r\n          </button>\r\n        </li>\r\n        </ul>\r\n      </nav>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<!-- Template por defecto para celdas -->\r\n<ng-template #defaultCellTemplate let-element=\"element\" let-column=\"column\">\r\n  {{ element[column.key] }}\r\n</ng-template>\r\n", styles: ["@charset \"UTF-8\";@import\"https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:ital,wght@0,200..800;1,200..800&display=swap\";:root{--sanna-font-family: Plus Jakarta Sans, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, sans-serif;--sanna-font-light: Plus Jakarta Sans, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, sans-serif;--sanna-font-regular: Plus Jakarta Sans, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, sans-serif;--sanna-font-medium: Plus Jakarta Sans, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, sans-serif;--sanna-font-semibold: Plus Jakarta Sans, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, sans-serif;--sanna-font-bold: Plus Jakarta Sans, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, sans-serif}.sanna-component{font-family:Plus Jakarta Sans,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif!important;font-optical-sizing:auto;font-style:normal;font-weight:400!important}.sanna-font-light{font-family:Plus Jakarta Sans,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif!important;font-optical-sizing:auto;font-style:normal;font-weight:300!important}.sanna-font-regular{font-family:Plus Jakarta Sans,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif!important;font-optical-sizing:auto;font-style:normal;font-weight:400!important}.sanna-font-medium{font-family:Plus Jakarta Sans,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif!important;font-optical-sizing:auto;font-style:normal;font-weight:500!important}.sanna-font-semibold{font-family:Plus Jakarta Sans,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif!important;font-optical-sizing:auto;font-style:normal;font-weight:600!important}.sanna-font-bold{font-family:Plus Jakarta Sans,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif!important;font-optical-sizing:auto;font-style:normal;font-weight:700!important}[class*=sa-],[class^=sanna-]{font-family:Plus Jakarta Sans,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif!important;font-optical-sizing:auto;font-style:normal;font-weight:400!important}.d-flex{display:flex!important}.justify-content-between{justify-content:space-between!important}.align-items-center{align-items:center!important}.mb-3{margin-bottom:1rem!important}.mt-3{margin-top:1rem!important}.me-2{margin-right:.5rem!important}.text-muted{color:#6c757d!important}.text-center{text-align:center!important}.py-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.form-select{display:block;width:100%;padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m1 6 7 7 7-7'/%3e%3c/svg%3e\");background-repeat:no-repeat;background-position:right .75rem center;background-size:16px 12px;border:1px solid #ced4da;border-radius:.375rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;appearance:none}.form-select-sm{padding-top:.25rem;padding-bottom:.25rem;padding-left:.5rem;font-size:.875rem}.table{width:100%;margin-bottom:1rem;color:#212529;vertical-align:top;border:none!important}.table>:not(caption)>*>*{padding:.5rem;background-color:transparent;border:none!important;box-shadow:none!important}.table>tbody{vertical-align:inherit}.table>thead{vertical-align:bottom}.table-light{color:#000;background-color:#f8f9fa}.table-hover>tbody>tr:hover>*{background-color:#00000013;color:#000}.table-responsive{overflow-x:auto;-webkit-overflow-scrolling:touch}.table-bordered>:not(caption)>*{border-width:0!important}.table-bordered>:not(caption)>*>*{border-width:0!important}.spinner-border{display:inline-block;width:2rem;height:2rem;vertical-align:text-bottom;border:.25em solid currentColor;border-right-color:transparent;border-radius:50%;animation:spinner-border .75s linear infinite}.text-primary{color:#0d6efd!important}.pagination{display:flex;padding-left:0;list-style:none;border-radius:.375rem}.page-item{list-style:none}.page-link{position:relative;display:block;color:#0d6efd;text-decoration:none;background-color:#fff;border:1px solid #dee2e6;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}.page-item:first-child .page-link{border-top-left-radius:.375rem;border-bottom-left-radius:.375rem}.page-item:last-child .page-link{border-top-right-radius:.375rem;border-bottom-right-radius:.375rem}.page-item.active .page-link{z-index:3;color:#fff;background-color:#0d6efd;border-color:#0d6efd}.page-item.disabled .page-link{color:#6c757d;pointer-events:none;background-color:#fff;border-color:#dee2e6}.mb-0{margin-bottom:0!important}@keyframes spinner-border{to{transform:rotate(360deg)}}.sa-table-container{position:relative;border-radius:.375rem;overflow:hidden;font-family:Plus Jakarta Sans,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif!important;font-optical-sizing:auto;font-style:normal;font-weight:400!important}.sa-table-container .table-content{transition:opacity .3s ease}.sa-table-container .table-content.loading{opacity:.5;pointer-events:none}.sa-table-container .loading-overlay{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background-color:#fffc;border-radius:.375rem;z-index:10;margin-top:0;margin-bottom:0}.sa-table-container .loading-overlay .loading-content{display:flex;flex-direction:column;align-items:center;gap:1rem}.sa-table-container .loading-overlay .loading-content .loading-text{color:#6c757d;font-size:.875rem;font-family:Plus Jakarta Sans,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif!important;font-optical-sizing:auto;font-style:normal;font-weight:500!important}.sa-table-container .table-responsive{border-radius:.375rem;overflow-x:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch;border:1px solid #e1e2e4!important}.sa-table-container .table{margin-bottom:0;border-radius:.375rem!important;font-family:Plus Jakarta Sans,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif!important;font-optical-sizing:auto;font-style:normal;font-weight:400!important;border:none!important}.sa-table-container .table th{cursor:default!important;-webkit-user-select:text!important;user-select:text!important;border-radius:0!important;border:none!important;text-align:left!important;vertical-align:middle!important}.sa-table-container .table th:first-child{border-top-left-radius:.375rem!important}.sa-table-container .table th:last-child{border-top-right-radius:.375rem!important}.sa-table-container .table th:hover{background-color:transparent!important}.sa-table-container .table td{border-bottom:1px solid #e1e2e4!important;border-right:none!important;text-align:left!important;vertical-align:middle!important}.sa-table-container .table tbody.animate-fade-in{animation:fadeIn .5s ease-out;animation-fill-mode:both}.sa-table-container .table tbody.animate-fade-in td{color:transparent!important;transition:color .5s ease-out}.sa-table-container .table tbody.animate-fade-in.animation-complete td{color:inherit!important}.sa-table-container .table thead th{cursor:default!important;border-bottom:none!important;border-right:none!important;background-color:#eef8f0!important;border-radius:0!important;-webkit-user-select:text!important;user-select:text!important;font-weight:500!important;text-align:left!important;vertical-align:middle!important}.sa-table-container .table thead th:hover{background-color:#eef8f0!important}.sa-table-container .table thead tr th{background-color:#eef8f0!important;border-bottom:none!important;border-right:none!important;border-radius:0!important;-webkit-user-select:text!important;user-select:text!important;font-weight:500!important;text-align:left!important;vertical-align:middle!important}.sa-table-container .table thead tr th:hover{background-color:#eef8f0!important}.sa-table-container .table tbody tr td{text-align:left!important;vertical-align:middle!important}.sa-table-container .table tbody tr td.text-center{text-align:center!important;vertical-align:middle!important;font-weight:400!important;color:#6c757d!important}.sa-table-container .table>tbody>tr:last-child>td{border-bottom:none!important;border-right:none!important}.sa-table-container .table>tbody>tr:last-child>td:first-child{border-bottom-left-radius:.375rem!important}.sa-table-container .table>tbody>tr:last-child>td:last-child{border-bottom-right-radius:.375rem!important}.sa-table-container .table>tbody>tr>td:first-child,.sa-table-container .table>thead>tr>th:first-child{padding-left:1rem!important}.sa-table-container .table.table-hover>tbody>tr:hover>td{background-color:#f8f9fa!important}.sa-table-container .table.table-hover>tbody>tr:has(td.text-center):hover>td{background-color:#fff!important}.sa-table-container .table.table-hover>tbody>tr>td.text-center:hover{background-color:#fff!important}.sa-table-container .d-flex.justify-content-between.align-items-center.mt-3{margin-top:.75rem!important}.sa-table-container .pagination{margin-bottom:0;flex-wrap:wrap;justify-content:flex-end;gap:.5rem}.sa-table-container .pagination .page-link{border-radius:.25rem;border:1px solid #dddfe0;min-width:2rem;height:2rem;display:flex;align-items:center;justify-content:center;padding:0;background-color:transparent;color:#5bab5f;font-size:1.125rem;text-align:center;line-height:1;width:2rem;box-sizing:border-box;letter-spacing:0;word-spacing:0;outline:none!important;cursor:pointer!important;font-size:.9rem;font-weight:500}.sa-table-container .pagination .page-link .pagination-icon{font-size:1.5rem;font-weight:500;line-height:0;display:flex;align-items:center;justify-content:center;margin:0;margin-top:-5px!important;padding:0;height:100%;width:100%}.sa-table-container .pagination .page-link:hover{background-color:#fff;border-color:#5bab5f;color:#5bab5f}.sa-table-container .pagination .page-link:focus{outline:none!important;box-shadow:none!important}.sa-table-container .pagination .page-item.active .page-link{background-color:#5bab5f;color:#fff;font-weight:500;border:none!important;cursor:pointer!important}.sa-table-container .pagination .page-item.active .page-link:hover{background-color:#5bab5f!important;color:#fff!important;border:none!important}.sa-table-container .pagination .page-item.disabled .page-link{color:#dee2e6;pointer-events:none;background-color:#fafafa;border-color:#dee2e6;cursor:not-allowed!important}.sa-table-container .pagination .page-item:first-child .page-link,.sa-table-container .pagination .page-item:last-child .page-link{min-width:2rem;width:2rem}.sa-table-container .pagination .page-link *{display:inline-block;vertical-align:middle}.sa-table-container .form-select{border-radius:.375rem;border:1px solid #ced4da!important;padding:.375rem .75rem!important;font-size:1rem!important;font-weight:400!important;line-height:1.5!important;color:#212529!important;background-color:#fff!important;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m1 6 7 7 7-7'/%3e%3c/svg%3e\")!important;background-repeat:no-repeat!important;background-position:right .75rem center!important;background-size:16px 12px!important;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out!important;appearance:none!important;width:auto!important;min-width:70px!important;display:inline-block!important;outline:none!important}.sa-table-container .form-select:focus{border-color:#ced4da!important;box-shadow:none!important;outline:none!important}.sa-table-container .form-select:active,.sa-table-container .form-select:hover{outline:none!important;box-shadow:none!important}.sa-table-container .form-select-sm{padding-top:.25rem!important;padding-bottom:.25rem!important;padding-left:.5rem!important;font-size:.875rem!important}.sa-table-container .table-container{position:relative}.sa-table-container .table-bordered{border:1px solid #e1e2e4!important;border-right:none!important}.sa-table-container .table>tbody>tr>td{background-color:#fff!important}.sa-table-container .table>tbody>tr:nth-of-type(odd)>td{background-color:#fff!important}.sa-table-container .table>tbody>tr:nth-of-type(2n)>td{background-color:#fff!important}.sa-table-container .table>tbody>tr:hover>td{background-color:#fff!important}.sa-table-container .sa-table-container .table>tbody>tr>td{background-color:#fff!important}.sa-table-container .sa-table-container .table>tbody>tr:nth-of-type(odd)>td{background-color:#fff!important}.sa-table-container .sa-table-container .table>tbody>tr:nth-of-type(2n)>td{background-color:#fff!important}.sa-table-container .sa-table-container .table>tbody>tr:hover>td{background-color:#fff!important}@media (max-width: 768px){.sa-table-container .d-flex.justify-content-between{flex-direction:column}.sa-table-container .pagination{justify-content:center!important;flex-wrap:wrap}.sa-table-container .pagination .page-link{padding:.375rem .5rem;font-size:.875rem;min-width:2.5rem;height:2.5rem;border-radius:.25rem}.sa-table-container .pagination .page-item:has(.pagination-first),.sa-table-container .pagination .page-item:has(.pagination-last){display:none}}@media (max-width: 480px){.sa-table-container .pagination{gap:.125rem}.sa-table-container .pagination .page-link{min-width:2.25rem;height:2.25rem;font-size:.8rem;padding:.25rem .375rem}}@media (min-width: 481px) and (max-width: 600px){.sa-table-container .pagination{gap:.375rem}}@media (min-width: 601px) and (max-width: 768px){.sa-table-container .pagination{gap:.5rem}}nav[aria-label=\"Navegaci\\f3n de p\\e1ginas\"]{overflow:visible;padding:.5rem 0}nav[aria-label=\"Navegaci\\f3n de p\\e1ginas\"] .pagination{margin:0;padding:0}.sa-table-container .table.table-bordered{border:1px solid #e1e2e4!important}.sa-table-container .table.table-bordered>:not(caption)>*{border-width:0!important}.sa-table-container .table.table-bordered>:not(caption)>*>*{border-width:0!important}.sa-table-container .table>:not(caption)>*>*{border:none!important;border-collapse:collapse!important;border-spacing:0!important}.sa-table-container .table{border-collapse:collapse!important;border-spacing:0!important}.sa-table-container .table>tbody>tr>td{border:none!important;border-bottom:1px solid #e1e2e4!important;border-right:none!important;border-top:none!important;border-left:none!important;padding:.5rem!important;text-align:left!important;vertical-align:middle!important}.sa-table-container .table>tbody>tr>td.text-center{text-align:center!important;vertical-align:middle!important;font-weight:400!important;color:#6c757d!important;padding:2rem .5rem!important}.sa-table-container .table>tbody>tr:has(td.text-center):hover>td{background-color:#fff!important}.sa-table-container .table>tbody>tr>td.text-center:hover{background-color:#fff!important}.sa-table-container .table>thead>tr>th{border:none!important;padding:.5rem!important;text-align:left!important;vertical-align:middle!important}.sa-table-container .table>tbody>tr:last-child>td{border-bottom:none!important}.sa-table-container .table,.sa-table-container .table>thead,.sa-table-container .table>tbody,.sa-table-container .table>tfoot,.sa-table-container .table>tr,.sa-table-container .table>th,.sa-table-container .table>td{border:none!important;border-collapse:collapse!important;border-spacing:0!important}.sa-table-container .table>tbody>tr:not(:last-child)>td{border-bottom:1px solid #e1e2e4!important;border-top:none!important;border-left:none!important;border-right:none!important}.sa-table-container .table-responsive{border:1px solid #e1e2e4!important;overflow-x:auto!important;overflow-y:hidden!important;-webkit-overflow-scrolling:touch}.sa-table-container .table-responsive::-webkit-scrollbar{height:8px}.sa-table-container .table-responsive::-webkit-scrollbar-track{background:#f1f1f1;border-radius:4px}.sa-table-container .table-responsive::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:4px}.sa-table-container .table-responsive::-webkit-scrollbar-thumb:hover{background:#a8a8a8}.sa-table-container .table-responsive .table{width:100%}@media (max-width: 480px){.sa-table-container .table-responsive .table{min-width:400px!important}}.sa-table-container .table-container{border:1px solid #e1e2e4!important;border-radius:.375rem!important;overflow:hidden}.table-scrollable{overflow-x:auto;overflow-y:hidden;scrollbar-width:thin;scrollbar-color:#c1c1c1 #f1f1f1}.table-scrollable .table{table-layout:fixed;width:100%}.table-scrollable .table th,.table-scrollable .table td{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}\n"], dependencies: [{ kind: "directive", type: i1.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i1.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet", "ngTemplateOutletInjector"] }, { kind: "directive", type: i2.NgSelectOption, selector: "option", inputs: ["ngValue", "value"] }, { kind: "directive", type: i2.ɵNgSelectMultipleOption, selector: "option", inputs: ["ngValue", "value"] }] });
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.2.13", ngImport: i0, type: SaTableComponent, decorators: [{
            type: Component,
            args: [{ selector: 'sa-table', template: "<!-- Table Container -->\r\n<div class=\"sa-table-container\">\r\n  <!-- Table Content (siempre visible) -->\r\n  <div class=\"table-content\" [class.loading]=\"loading\">\r\n  \r\n  <!-- Table -->\r\n  <div class=\"table-responsive table-container\">\r\n    <table class=\"table\" \r\n           [class.table-hover]=\"hover\"\r\n           [style.min-width]=\"minWidth\">\r\n      <thead class=\"table-light\">\r\n        <tr>\r\n          <th *ngFor=\"let column of columns\" \r\n              [style.width]=\"column.width\">\r\n            <div class=\"d-flex align-items-center justify-content-between\">\r\n              <span>{{ column.label }}</span>\r\n            </div>\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      <tbody [class.animate-fade-in]=\"animationKey > 0\" [class.animation-complete]=\"animationKey > 0\" [attr.data-animation-key]=\"animationKey\">\r\n        <tr *ngFor=\"let row of paginatedData; trackBy: trackByFn\">\r\n          <td *ngFor=\"let column of columns\" [style.width]=\"column.width\">\r\n            <!-- Usar template espec\u00EDfico de la columna si existe, sino usar el default -->\r\n            <ng-container *ngTemplateOutlet=\"getColumnTemplate(column.key) || defaultCellTemplate!; context: getTemplateContext(row, column)\">\r\n            </ng-container>\r\n          </td>\r\n        </tr>\r\n        <tr *ngIf=\"paginatedData.length === 0\">\r\n          <td [attr.colspan]=\"columns.length\" class=\"text-center py-4 text-muted\">\r\n            {{ emptyMessage }}\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    \r\n    <!-- Loading Overlay solo sobre la tabla -->\r\n    <div *ngIf=\"loading\" class=\"loading-overlay\">\r\n      <div class=\"loading-content\">\r\n        <div class=\"spinner-border text-primary\" role=\"status\">\r\n        </div>\r\n        <div class=\"loading-text\">Cargando...</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Items Per Page Selector and Pagination Controls (en una sola fila) -->\r\n  <div *ngIf=\"showPagination && data.length > 0\" class=\"d-flex flex-column flex-md-row justify-content-center justify-content-md-between align-items-center mt-2\">\r\n    <!-- Items Per Page Selector (izquierda) -->\r\n    <div *ngIf=\"showItemsPerPage\" class=\"d-flex align-items-center mb-2 mb-md-0\">\r\n      <span class=\"text-muted me-2\">Registros por p\u00E1gina:</span>\r\n      <select \r\n        id=\"itemsPerPage\"\r\n        class=\"form-select form-select-sm\" \r\n        style=\"width: auto;\"\r\n        [value]=\"itemsPerPage\"\r\n        (change)=\"onSelectChange($event)\">\r\n        <option *ngFor=\"let option of itemsPerPageOptions\" [value]=\"option\">\r\n          {{ option }}\r\n        </option>\r\n      </select>\r\n    </div>\r\n    \r\n    <!-- Pagination Info and Controls (derecha) -->\r\n    <div class=\"d-flex flex-column flex-md-row align-items-center\">\r\n      <div *ngIf=\"showTotal\" class=\"text-muted mb-2 mb-md-0 me-md-3 text-center text-md-start\">\r\n        P\u00E1gina: {{ paginationInfo.currentPage }} - {{ paginationInfo.startItem }} de {{ paginationInfo.totalItems }}\r\n      </div>\r\n      \r\n      <nav *ngIf=\"paginationInfo.totalPages > 1\" aria-label=\"Navegaci\u00F3n de p\u00E1ginas\">\r\n        <ul class=\"pagination mb-0 justify-content-center justify-content-md-start\">\r\n                <!-- First Page Button -->\r\n        <li *ngIf=\"showFirstLastButtons\" class=\"page-item\" [class.disabled]=\"currentPage === 1\">\r\n          <button class=\"page-link\" \r\n                  (click)=\"onPageChange(1)\"\r\n                  [disabled]=\"currentPage === 1\"\r\n                  aria-label=\"Primera p\u00E1gina\">\r\n            <span class=\"pagination-icon pagination-first\">\u00AB</span>\r\n          </button>\r\n        </li>\r\n\r\n        <!-- Previous Button -->\r\n        <li class=\"page-item\" [class.disabled]=\"currentPage === 1\">\r\n          <button class=\"page-link\" \r\n                  (click)=\"onPageChange(currentPage - 1)\"\r\n                  [disabled]=\"currentPage === 1\"\r\n                  aria-label=\"P\u00E1gina anterior\">\r\n            <span class=\"pagination-icon\">\u2039</span>\r\n          </button>\r\n        </li>\r\n\r\n        <!-- Page Numbers -->\r\n        <li *ngFor=\"let page of getPageNumbers()\" \r\n            class=\"page-item\"\r\n            [class.active]=\"page === currentPage\"\r\n            [class.disabled]=\"page === -1\">\r\n          <button *ngIf=\"page !== -1\" \r\n                  class=\"page-link\" \r\n                  (click)=\"onPageChange(page)\">\r\n            {{ page }}\r\n          </button>\r\n          <span *ngIf=\"page === -1\" class=\"page-link\">...</span>\r\n        </li>\r\n\r\n        <!-- Next Button -->\r\n        <li class=\"page-item\" [class.disabled]=\"currentPage === paginationInfo.totalPages\">\r\n          <button class=\"page-link\" \r\n                  (click)=\"onPageChange(currentPage + 1)\"\r\n                  [disabled]=\"currentPage === paginationInfo.totalPages\"\r\n                  aria-label=\"P\u00E1gina siguiente\">\r\n            <span class=\"pagination-icon\">\u203A</span>\r\n          </button>\r\n        </li>\r\n\r\n        <!-- Last Page Button -->\r\n        <li *ngIf=\"showFirstLastButtons\" class=\"page-item\" [class.disabled]=\"currentPage === paginationInfo.totalPages\">\r\n          <button class=\"page-link\" \r\n                  (click)=\"onPageChange(paginationInfo.totalPages)\"\r\n                  [disabled]=\"currentPage === paginationInfo.totalPages\"\r\n                  aria-label=\"\u00DAltima p\u00E1gina\">\r\n            <span class=\"pagination-icon pagination-last\">\u00BB</span>\r\n          </button>\r\n        </li>\r\n        </ul>\r\n      </nav>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<!-- Template por defecto para celdas -->\r\n<ng-template #defaultCellTemplate let-element=\"element\" let-column=\"column\">\r\n  {{ element[column.key] }}\r\n</ng-template>\r\n", styles: ["@charset \"UTF-8\";@import\"https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:ital,wght@0,200..800;1,200..800&display=swap\";:root{--sanna-font-family: Plus Jakarta Sans, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, sans-serif;--sanna-font-light: Plus Jakarta Sans, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, sans-serif;--sanna-font-regular: Plus Jakarta Sans, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, sans-serif;--sanna-font-medium: Plus Jakarta Sans, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, sans-serif;--sanna-font-semibold: Plus Jakarta Sans, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, sans-serif;--sanna-font-bold: Plus Jakarta Sans, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, sans-serif}.sanna-component{font-family:Plus Jakarta Sans,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif!important;font-optical-sizing:auto;font-style:normal;font-weight:400!important}.sanna-font-light{font-family:Plus Jakarta Sans,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif!important;font-optical-sizing:auto;font-style:normal;font-weight:300!important}.sanna-font-regular{font-family:Plus Jakarta Sans,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif!important;font-optical-sizing:auto;font-style:normal;font-weight:400!important}.sanna-font-medium{font-family:Plus Jakarta Sans,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif!important;font-optical-sizing:auto;font-style:normal;font-weight:500!important}.sanna-font-semibold{font-family:Plus Jakarta Sans,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif!important;font-optical-sizing:auto;font-style:normal;font-weight:600!important}.sanna-font-bold{font-family:Plus Jakarta Sans,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif!important;font-optical-sizing:auto;font-style:normal;font-weight:700!important}[class*=sa-],[class^=sanna-]{font-family:Plus Jakarta Sans,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif!important;font-optical-sizing:auto;font-style:normal;font-weight:400!important}.d-flex{display:flex!important}.justify-content-between{justify-content:space-between!important}.align-items-center{align-items:center!important}.mb-3{margin-bottom:1rem!important}.mt-3{margin-top:1rem!important}.me-2{margin-right:.5rem!important}.text-muted{color:#6c757d!important}.text-center{text-align:center!important}.py-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.form-select{display:block;width:100%;padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m1 6 7 7 7-7'/%3e%3c/svg%3e\");background-repeat:no-repeat;background-position:right .75rem center;background-size:16px 12px;border:1px solid #ced4da;border-radius:.375rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;appearance:none}.form-select-sm{padding-top:.25rem;padding-bottom:.25rem;padding-left:.5rem;font-size:.875rem}.table{width:100%;margin-bottom:1rem;color:#212529;vertical-align:top;border:none!important}.table>:not(caption)>*>*{padding:.5rem;background-color:transparent;border:none!important;box-shadow:none!important}.table>tbody{vertical-align:inherit}.table>thead{vertical-align:bottom}.table-light{color:#000;background-color:#f8f9fa}.table-hover>tbody>tr:hover>*{background-color:#00000013;color:#000}.table-responsive{overflow-x:auto;-webkit-overflow-scrolling:touch}.table-bordered>:not(caption)>*{border-width:0!important}.table-bordered>:not(caption)>*>*{border-width:0!important}.spinner-border{display:inline-block;width:2rem;height:2rem;vertical-align:text-bottom;border:.25em solid currentColor;border-right-color:transparent;border-radius:50%;animation:spinner-border .75s linear infinite}.text-primary{color:#0d6efd!important}.pagination{display:flex;padding-left:0;list-style:none;border-radius:.375rem}.page-item{list-style:none}.page-link{position:relative;display:block;color:#0d6efd;text-decoration:none;background-color:#fff;border:1px solid #dee2e6;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}.page-item:first-child .page-link{border-top-left-radius:.375rem;border-bottom-left-radius:.375rem}.page-item:last-child .page-link{border-top-right-radius:.375rem;border-bottom-right-radius:.375rem}.page-item.active .page-link{z-index:3;color:#fff;background-color:#0d6efd;border-color:#0d6efd}.page-item.disabled .page-link{color:#6c757d;pointer-events:none;background-color:#fff;border-color:#dee2e6}.mb-0{margin-bottom:0!important}@keyframes spinner-border{to{transform:rotate(360deg)}}.sa-table-container{position:relative;border-radius:.375rem;overflow:hidden;font-family:Plus Jakarta Sans,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif!important;font-optical-sizing:auto;font-style:normal;font-weight:400!important}.sa-table-container .table-content{transition:opacity .3s ease}.sa-table-container .table-content.loading{opacity:.5;pointer-events:none}.sa-table-container .loading-overlay{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background-color:#fffc;border-radius:.375rem;z-index:10;margin-top:0;margin-bottom:0}.sa-table-container .loading-overlay .loading-content{display:flex;flex-direction:column;align-items:center;gap:1rem}.sa-table-container .loading-overlay .loading-content .loading-text{color:#6c757d;font-size:.875rem;font-family:Plus Jakarta Sans,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif!important;font-optical-sizing:auto;font-style:normal;font-weight:500!important}.sa-table-container .table-responsive{border-radius:.375rem;overflow-x:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch;border:1px solid #e1e2e4!important}.sa-table-container .table{margin-bottom:0;border-radius:.375rem!important;font-family:Plus Jakarta Sans,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif!important;font-optical-sizing:auto;font-style:normal;font-weight:400!important;border:none!important}.sa-table-container .table th{cursor:default!important;-webkit-user-select:text!important;user-select:text!important;border-radius:0!important;border:none!important;text-align:left!important;vertical-align:middle!important}.sa-table-container .table th:first-child{border-top-left-radius:.375rem!important}.sa-table-container .table th:last-child{border-top-right-radius:.375rem!important}.sa-table-container .table th:hover{background-color:transparent!important}.sa-table-container .table td{border-bottom:1px solid #e1e2e4!important;border-right:none!important;text-align:left!important;vertical-align:middle!important}.sa-table-container .table tbody.animate-fade-in{animation:fadeIn .5s ease-out;animation-fill-mode:both}.sa-table-container .table tbody.animate-fade-in td{color:transparent!important;transition:color .5s ease-out}.sa-table-container .table tbody.animate-fade-in.animation-complete td{color:inherit!important}.sa-table-container .table thead th{cursor:default!important;border-bottom:none!important;border-right:none!important;background-color:#eef8f0!important;border-radius:0!important;-webkit-user-select:text!important;user-select:text!important;font-weight:500!important;text-align:left!important;vertical-align:middle!important}.sa-table-container .table thead th:hover{background-color:#eef8f0!important}.sa-table-container .table thead tr th{background-color:#eef8f0!important;border-bottom:none!important;border-right:none!important;border-radius:0!important;-webkit-user-select:text!important;user-select:text!important;font-weight:500!important;text-align:left!important;vertical-align:middle!important}.sa-table-container .table thead tr th:hover{background-color:#eef8f0!important}.sa-table-container .table tbody tr td{text-align:left!important;vertical-align:middle!important}.sa-table-container .table tbody tr td.text-center{text-align:center!important;vertical-align:middle!important;font-weight:400!important;color:#6c757d!important}.sa-table-container .table>tbody>tr:last-child>td{border-bottom:none!important;border-right:none!important}.sa-table-container .table>tbody>tr:last-child>td:first-child{border-bottom-left-radius:.375rem!important}.sa-table-container .table>tbody>tr:last-child>td:last-child{border-bottom-right-radius:.375rem!important}.sa-table-container .table>tbody>tr>td:first-child,.sa-table-container .table>thead>tr>th:first-child{padding-left:1rem!important}.sa-table-container .table.table-hover>tbody>tr:hover>td{background-color:#f8f9fa!important}.sa-table-container .table.table-hover>tbody>tr:has(td.text-center):hover>td{background-color:#fff!important}.sa-table-container .table.table-hover>tbody>tr>td.text-center:hover{background-color:#fff!important}.sa-table-container .d-flex.justify-content-between.align-items-center.mt-3{margin-top:.75rem!important}.sa-table-container .pagination{margin-bottom:0;flex-wrap:wrap;justify-content:flex-end;gap:.5rem}.sa-table-container .pagination .page-link{border-radius:.25rem;border:1px solid #dddfe0;min-width:2rem;height:2rem;display:flex;align-items:center;justify-content:center;padding:0;background-color:transparent;color:#5bab5f;font-size:1.125rem;text-align:center;line-height:1;width:2rem;box-sizing:border-box;letter-spacing:0;word-spacing:0;outline:none!important;cursor:pointer!important;font-size:.9rem;font-weight:500}.sa-table-container .pagination .page-link .pagination-icon{font-size:1.5rem;font-weight:500;line-height:0;display:flex;align-items:center;justify-content:center;margin:0;margin-top:-5px!important;padding:0;height:100%;width:100%}.sa-table-container .pagination .page-link:hover{background-color:#fff;border-color:#5bab5f;color:#5bab5f}.sa-table-container .pagination .page-link:focus{outline:none!important;box-shadow:none!important}.sa-table-container .pagination .page-item.active .page-link{background-color:#5bab5f;color:#fff;font-weight:500;border:none!important;cursor:pointer!important}.sa-table-container .pagination .page-item.active .page-link:hover{background-color:#5bab5f!important;color:#fff!important;border:none!important}.sa-table-container .pagination .page-item.disabled .page-link{color:#dee2e6;pointer-events:none;background-color:#fafafa;border-color:#dee2e6;cursor:not-allowed!important}.sa-table-container .pagination .page-item:first-child .page-link,.sa-table-container .pagination .page-item:last-child .page-link{min-width:2rem;width:2rem}.sa-table-container .pagination .page-link *{display:inline-block;vertical-align:middle}.sa-table-container .form-select{border-radius:.375rem;border:1px solid #ced4da!important;padding:.375rem .75rem!important;font-size:1rem!important;font-weight:400!important;line-height:1.5!important;color:#212529!important;background-color:#fff!important;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m1 6 7 7 7-7'/%3e%3c/svg%3e\")!important;background-repeat:no-repeat!important;background-position:right .75rem center!important;background-size:16px 12px!important;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out!important;appearance:none!important;width:auto!important;min-width:70px!important;display:inline-block!important;outline:none!important}.sa-table-container .form-select:focus{border-color:#ced4da!important;box-shadow:none!important;outline:none!important}.sa-table-container .form-select:active,.sa-table-container .form-select:hover{outline:none!important;box-shadow:none!important}.sa-table-container .form-select-sm{padding-top:.25rem!important;padding-bottom:.25rem!important;padding-left:.5rem!important;font-size:.875rem!important}.sa-table-container .table-container{position:relative}.sa-table-container .table-bordered{border:1px solid #e1e2e4!important;border-right:none!important}.sa-table-container .table>tbody>tr>td{background-color:#fff!important}.sa-table-container .table>tbody>tr:nth-of-type(odd)>td{background-color:#fff!important}.sa-table-container .table>tbody>tr:nth-of-type(2n)>td{background-color:#fff!important}.sa-table-container .table>tbody>tr:hover>td{background-color:#fff!important}.sa-table-container .sa-table-container .table>tbody>tr>td{background-color:#fff!important}.sa-table-container .sa-table-container .table>tbody>tr:nth-of-type(odd)>td{background-color:#fff!important}.sa-table-container .sa-table-container .table>tbody>tr:nth-of-type(2n)>td{background-color:#fff!important}.sa-table-container .sa-table-container .table>tbody>tr:hover>td{background-color:#fff!important}@media (max-width: 768px){.sa-table-container .d-flex.justify-content-between{flex-direction:column}.sa-table-container .pagination{justify-content:center!important;flex-wrap:wrap}.sa-table-container .pagination .page-link{padding:.375rem .5rem;font-size:.875rem;min-width:2.5rem;height:2.5rem;border-radius:.25rem}.sa-table-container .pagination .page-item:has(.pagination-first),.sa-table-container .pagination .page-item:has(.pagination-last){display:none}}@media (max-width: 480px){.sa-table-container .pagination{gap:.125rem}.sa-table-container .pagination .page-link{min-width:2.25rem;height:2.25rem;font-size:.8rem;padding:.25rem .375rem}}@media (min-width: 481px) and (max-width: 600px){.sa-table-container .pagination{gap:.375rem}}@media (min-width: 601px) and (max-width: 768px){.sa-table-container .pagination{gap:.5rem}}nav[aria-label=\"Navegaci\\f3n de p\\e1ginas\"]{overflow:visible;padding:.5rem 0}nav[aria-label=\"Navegaci\\f3n de p\\e1ginas\"] .pagination{margin:0;padding:0}.sa-table-container .table.table-bordered{border:1px solid #e1e2e4!important}.sa-table-container .table.table-bordered>:not(caption)>*{border-width:0!important}.sa-table-container .table.table-bordered>:not(caption)>*>*{border-width:0!important}.sa-table-container .table>:not(caption)>*>*{border:none!important;border-collapse:collapse!important;border-spacing:0!important}.sa-table-container .table{border-collapse:collapse!important;border-spacing:0!important}.sa-table-container .table>tbody>tr>td{border:none!important;border-bottom:1px solid #e1e2e4!important;border-right:none!important;border-top:none!important;border-left:none!important;padding:.5rem!important;text-align:left!important;vertical-align:middle!important}.sa-table-container .table>tbody>tr>td.text-center{text-align:center!important;vertical-align:middle!important;font-weight:400!important;color:#6c757d!important;padding:2rem .5rem!important}.sa-table-container .table>tbody>tr:has(td.text-center):hover>td{background-color:#fff!important}.sa-table-container .table>tbody>tr>td.text-center:hover{background-color:#fff!important}.sa-table-container .table>thead>tr>th{border:none!important;padding:.5rem!important;text-align:left!important;vertical-align:middle!important}.sa-table-container .table>tbody>tr:last-child>td{border-bottom:none!important}.sa-table-container .table,.sa-table-container .table>thead,.sa-table-container .table>tbody,.sa-table-container .table>tfoot,.sa-table-container .table>tr,.sa-table-container .table>th,.sa-table-container .table>td{border:none!important;border-collapse:collapse!important;border-spacing:0!important}.sa-table-container .table>tbody>tr:not(:last-child)>td{border-bottom:1px solid #e1e2e4!important;border-top:none!important;border-left:none!important;border-right:none!important}.sa-table-container .table-responsive{border:1px solid #e1e2e4!important;overflow-x:auto!important;overflow-y:hidden!important;-webkit-overflow-scrolling:touch}.sa-table-container .table-responsive::-webkit-scrollbar{height:8px}.sa-table-container .table-responsive::-webkit-scrollbar-track{background:#f1f1f1;border-radius:4px}.sa-table-container .table-responsive::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:4px}.sa-table-container .table-responsive::-webkit-scrollbar-thumb:hover{background:#a8a8a8}.sa-table-container .table-responsive .table{width:100%}@media (max-width: 480px){.sa-table-container .table-responsive .table{min-width:400px!important}}.sa-table-container .table-container{border:1px solid #e1e2e4!important;border-radius:.375rem!important;overflow:hidden}.table-scrollable{overflow-x:auto;overflow-y:hidden;scrollbar-width:thin;scrollbar-color:#c1c1c1 #f1f1f1}.table-scrollable .table{table-layout:fixed;width:100%}.table-scrollable .table th,.table-scrollable .table td{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}\n"] }]
        }], propDecorators: { columns: [{
                type: Input
            }], data: [{
                type: Input
            }], emptyMessage: [{
                type: Input
            }], columnDefs: [{
                type: ContentChildren,
                args: [SaColumnDefDirective]
            }], defaultCellTemplate: [{
                type: ViewChild,
                args: ['defaultCellTemplate', { static: true }]
            }], itemsPerPage: [{
                type: Input
            }], showPagination: [{
                type: Input
            }], showItemsPerPage: [{
                type: Input
            }], showTotal: [{
                type: Input
            }], hover: [{
                type: Input
            }], loading: [{
                type: Input
            }], showFirstLastButtons: [{
                type: Input
            }], minWidth: [{
                type: Input
            }], pageChange: [{
                type: Output
            }], itemsPerPageChange: [{
                type: Output
            }], sortChange: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2EtdGFibGUuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvc2FubmEtdWkvc3JjL2xpYi9zYS10YWJsZS9zYS10YWJsZS5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9zYW5uYS11aS9zcmMvbGliL3NhLXRhYmxlL3NhLXRhYmxlLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxZQUFZLEVBQW1HLFNBQVMsRUFBRSxlQUFlLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDcE0sT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sMkJBQTJCLENBQUM7Ozs7QUEyQmpFLE1BQU0sT0FBTyxnQkFBZ0I7SUFDbkIsY0FBYyxHQUF3QixJQUFJLENBQUM7SUFFbkQsbURBQW1EO0lBQzFDLE9BQU8sR0FBa0IsRUFBRSxDQUFDO0lBQzVCLElBQUksR0FBZ0IsRUFBRSxDQUFDO0lBRWhDLHdGQUF3RjtJQUMvRSxZQUFZLEdBQVcsMEJBQTBCLENBQUM7SUFFM0QseURBQXlEO0lBQ2xCLFVBQVUsQ0FBbUM7SUFDaEMsbUJBQW1CLENBQW9CO0lBRTNGLDJEQUEyRDtJQUNuRCxhQUFhLEdBQVcsRUFBRSxDQUFDO0lBQzNCLGVBQWUsR0FBWSxJQUFJLENBQUM7SUFDaEMsaUJBQWlCLEdBQVksSUFBSSxDQUFDO0lBQ2xDLFVBQVUsR0FBWSxJQUFJLENBQUM7SUFDM0IsTUFBTSxHQUFZLEtBQUssQ0FBQztJQUN4QixRQUFRLEdBQVksS0FBSyxDQUFDO0lBQzFCLHFCQUFxQixHQUFZLElBQUksQ0FBQztJQUU5QyxJQUNJLFlBQVksQ0FBQyxLQUFtQjtRQUNsQyxJQUFJLENBQUMsYUFBYSxHQUFHLEtBQUssSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxF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RCxDQUFDO0lBRUQsV0FBVztRQUNULElBQUksSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO1lBQ3hCLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1FBQzVELENBQUM7SUFDSCxDQUFDO3dHQWpWVSxnQkFBZ0I7NEZBQWhCLGdCQUFnQix3ZUFXVixvQkFBb0IsNExDdkN2Qyx3N0xBcUlBOzs0RkR6R2EsZ0JBQWdCO2tCQUw1QixTQUFTOytCQUNFLFVBQVU7OEJBUVgsT0FBTztzQkFBZixLQUFLO2dCQUNHLElBQUk7c0JBQVosS0FBSztnQkFHRyxZQUFZO3NCQUFwQixLQUFLO2dCQUdpQyxVQUFVO3NCQUFoRCxlQUFlO3VCQUFDLG9CQUFvQjtnQkFDZSxtQkFBbUI7c0JBQXRFLFNBQVM7dUJBQUMscUJBQXFCLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFO2dCQVk5QyxZQUFZO3NCQURmLEtBQUs7Z0JBU0YsY0FBYztzQkFEakIsS0FBSztnQkFTRixnQkFBZ0I7c0JBRG5CLEtBQUs7Z0JBU0YsU0FBUztzQkFEWixLQUFLO2dCQVNGLEtBQUs7c0JBRFIsS0FBSztnQkFTRixPQUFPO3NCQURWLEtBQUs7Z0JBU0Ysb0JBQW9CO3NCQUR2QixLQUFLO2dCQVlGLFFBQVE7c0JBRFgsS0FBSztnQkFRSSxVQUFVO3NCQUFuQixNQUFNO2dCQUNHLGtCQUFrQjtzQkFBM0IsTUFBTTtnQkFDRyxVQUFVO3NCQUFuQixNQUFNIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgT3V0cHV0LCBFdmVudEVtaXR0ZXIsIE9uSW5pdCwgT25DaGFuZ2VzLCBTaW1wbGVDaGFuZ2VzLCBPbkRlc3Ryb3ksIENvbnRlbnRDaGlsZCwgVGVtcGxhdGVSZWYsIFF1ZXJ5TGlzdCwgVmlld0NoaWxkcmVuLCBWaWV3Q2hpbGQsIENvbnRlbnRDaGlsZHJlbiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBTYUNvbHVtbkRlZkRpcmVjdGl2ZSB9IGZyb20gJy4vc2EtY29sdW1uLWRlZi5kaXJlY3RpdmUnO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBUYWJsZUNvbHVtbiB7XHJcbiAga2V5OiBzdHJpbmc7XHJcbiAgbGFiZWw6IHN0cmluZztcclxuICBzb3J0YWJsZT86IGJvb2xlYW47XHJcbiAgd2lkdGg/OiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVGFibGVEYXRhIHtcclxuICBba2V5OiBzdHJpbmddOiBhbnk7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUGFnaW5hdGlvbkluZm8ge1xyXG4gIGN1cnJlbnRQYWdlOiBudW1iZXI7XHJcbiAgdG90YWxQYWdlczogbnVtYmVyO1xyXG4gIHRvdGFsSXRlbXM6IG51bWJlcjtcclxuICBpdGVtc1BlclBhZ2U6IG51bWJlcjtcclxuICBzdGFydEl0ZW06IG51bWJlcjtcclxuICBlbmRJdGVtOiBudW1iZXI7XHJcbn1cclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAnc2EtdGFibGUnLFxyXG4gIHRlbXBsYXRlVXJsOiAnLi9zYS10YWJsZS5jb21wb25lbnQuaHRtbCcsXHJcbiAgc3R5bGVVcmxzOiBbJy4vc2EtdGFibGUuY29tcG9uZW50LnNjc3MnXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgU2FUYWJsZUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgT25DaGFuZ2VzLCBPbkRlc3Ryb3kge1xyXG4gIHByaXZhdGUgcmVzaXplTGlzdGVuZXI6ICgoKSA9PiB2b2lkKSB8IG51bGwgPSBudWxsO1xyXG4gIFxyXG4gIC8vIEFycmF5cy9vYmpldG9zIHF1ZSBzaWVtcHJlIHVzYW4gcHJvcGVydHkgYmluZGluZ1xyXG4gIEBJbnB1dCgpIGNvbHVtbnM6IFRhYmxlQ29sdW1uW10gPSBbXTtcclxuICBASW5wdXQoKSBkYXRhOiBUYWJsZURhdGFbXSA9IFtdO1xyXG4gIFxyXG4gIC8vIFNvbG8gZW1wdHlNZXNzYWdlIHVzYSBwcm9wZXJ0eSBiaW5kaW5nIGNvbiBjb21pbGxhcyBzaW1wbGVzOiBbZW1wdHlNZXNzYWdlXT1cIid0ZXh0bydcIlxyXG4gIEBJbnB1dCgpIGVtcHR5TWVzc2FnZTogc3RyaW5nID0gJ05vIGhheSBkYXRvcyBkaXNwb25pYmxlcyc7XHJcblxyXG4gIC8vIFRlbXBsYXRlcyBkaW7DoW1pY29zIHBvciBjb2x1bW5hIHVzYW5kbyBDb250ZW50Q2hpbGRyZW5cclxuICBAQ29udGVudENoaWxkcmVuKFNhQ29sdW1uRGVmRGlyZWN0aXZlKSBjb2x1bW5EZWZzPzogUXVlcnlMaXN0PFNhQ29sdW1uRGVmRGlyZWN0aXZlPjtcclxuICBAVmlld0NoaWxkKCdkZWZhdWx0Q2VsbFRlbXBsYXRlJywgeyBzdGF0aWM6IHRydWUgfSkgZGVmYXVsdENlbGxUZW1wbGF0ZT86IFRlbXBsYXRlUmVmPGFueT47XHJcbiAgXHJcbiAgLy8gUHJvcGllZGFkZXMgY29uIHNldHRlcnMvZ2V0dGVycyBwYXJhIGZsZXhpYmlsaWRhZCBtw6F4aW1hXHJcbiAgcHJpdmF0ZSBfaXRlbXNQZXJQYWdlOiBudW1iZXIgPSAxMDtcclxuICBwcml2YXRlIF9zaG93UGFnaW5hdGlvbjogYm9vbGVhbiA9IHRydWU7XHJcbiAgcHJpdmF0ZSBfc2hvd0l0ZW1zUGVyUGFnZTogYm9vbGVhbiA9IHRydWU7XHJcbiAgcHJpdmF0ZSBfc2hvd1RvdGFsOiBib29sZWFuID0gdHJ1ZTtcclxuICBwcml2YXRlIF9ob3ZlcjogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIHByaXZhdGUgX2xvYWRpbmc6IGJvb2xlYW4gPSBmYWxzZTtcclxuICBwcml2YXRlIF9zaG93Rmlyc3RMYXN0QnV0dG9uczogYm9vbGVhbiA9IHRydWU7XHJcblxyXG4gIEBJbnB1dCgpXHJcbiAgc2V0IGl0ZW1zUGVyUGFnZSh2YWx1ZTogbnVtYmVyIHwgYW55KSB7XHJcbiAgICB0aGlzLl9pdGVtc1BlclBhZ2UgPSB2YWx1ZSAhPSBudWxsID8gK3ZhbHVlIDogMTA7XHJcbiAgfVxyXG4gIGdldCBpdGVtc1BlclBhZ2UoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLl9pdGVtc1BlclBhZ2U7XHJcbiAgfVxyXG5cclxuICBASW5wdXQoKVxyXG4gIHNldCBzaG93UGFnaW5hdGlvbih2YWx1ZTogYm9vbGVhbiB8IGFueSkge1xyXG4gICAgdGhpcy5fc2hvd1BhZ2luYXRpb24gPSB2YWx1ZSA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gJ3RydWUnO1xyXG4gIH1cclxuICBnZXQgc2hvd1BhZ2luYXRpb24oKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5fc2hvd1BhZ2luYXRpb247XHJcbiAgfVxyXG5cclxuICBASW5wdXQoKVxyXG4gIHNldCBzaG93SXRlbXNQZXJQYWdlKHZhbHVlOiBib29sZWFuIHwgYW55KSB7XHJcbiAgICB0aGlzLl9zaG93SXRlbXNQZXJQYWdlID0gdmFsdWUgPT09IHRydWUgfHwgdmFsdWUgPT09ICd0cnVlJztcclxuICB9XHJcbiAgZ2V0IHNob3dJdGVtc1BlclBhZ2UoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5fc2hvd0l0ZW1zUGVyUGFnZTtcclxuICB9XHJcblxyXG4gIEBJbnB1dCgpXHJcbiAgc2V0IHNob3dUb3RhbCh2YWx1ZTogYm9vbGVhbiB8IGFueSkge1xyXG4gICAgdGhpcy5fc2hvd1RvdGFsID0gdmFsdWUgPT09IHRydWUgfHwgdmFsdWUgPT09ICd0cnVlJztcclxuICB9XHJcbiAgZ2V0IHNob3dUb3RhbCgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLl9zaG93VG90YWw7XHJcbiAgfVxyXG5cclxuICBASW5wdXQoKVxyXG4gIHNldCBob3Zlcih2YWx1ZTogYm9vbGVhbiB8IGFueSkge1xyXG4gICAgdGhpcy5faG92ZXIgPSB2YWx1ZSA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gJ3RydWUnO1xyXG4gIH1cclxuICBnZXQgaG92ZXIoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5faG92ZXI7XHJcbiAgfVxyXG5cclxuICBASW5wdXQoKVxyXG4gIHNldCBsb2FkaW5nKHZhbHVlOiBib29sZWFuIHwgYW55KSB7XHJcbiAgICB0aGlzLl9sb2FkaW5nID0gdmFsdWUgPT09IHRydWUgfHwgdmFsdWUgPT09ICd0cnVlJztcclxuICB9XHJcbiAgZ2V0IGxvYWRpbmcoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5fbG9hZGluZztcclxuICB9XHJcblxyXG4gIEBJbnB1dCgpXHJcbiAgc2V0IHNob3dGaXJzdExhc3RCdXR0b25zKHZhbHVlOiBib29sZWFuIHwgYW55KSB7XHJcbiAgICB0aGlzLl9zaG93Rmlyc3RMYXN0QnV0dG9ucyA9IHZhbHVlID09PSB0cnVlIHx8IHZhbHVlID09PSAndHJ1ZSc7XHJcbiAgfVxyXG4gIGdldCBzaG93Rmlyc3RMYXN0QnV0dG9ucygpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLl9zaG93Rmlyc3RMYXN0QnV0dG9ucztcclxuICB9XHJcblxyXG4gIC8vIFByb3BpZWRhZCBwYXJhIGVsIGFuY2hvIG3DrW5pbW8gZGUgbGEgdGFibGFcclxuICBwcml2YXRlIF9taW5XaWR0aDogc3RyaW5nID0gJzYwMHB4JztcclxuICBcclxuICBASW5wdXQoKVxyXG4gIHNldCBtaW5XaWR0aCh2YWx1ZTogc3RyaW5nIHwgYW55KSB7XHJcbiAgICB0aGlzLl9taW5XaWR0aCA9IHZhbHVlIHx8ICc2MDBweCc7XHJcbiAgfVxyXG4gIGdldCBtaW5XaWR0aCgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIHRoaXMuX21pbldpZHRoO1xyXG4gIH1cclxuXHJcbiAgQE91dHB1dCgpIHBhZ2VDaGFuZ2UgPSBuZXcgRXZlbnRFbWl0dGVyPG51bWJlcj4oKTtcclxuICBAT3V0cHV0KCkgaXRlbXNQZXJQYWdlQ2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcjxudW1iZXI+KCk7XHJcbiAgQE91dHB1dCgpIHNvcnRDaGFuZ2UgPSBuZXcgRXZlbnRFbWl0dGVyPHtjb2x1bW46IHN0cmluZywgZGlyZWN0aW9uOiAnYXNjJyB8ICdkZXNjJ30+KCk7XHJcblxyXG4gIGN1cnJlbnRQYWdlOiBudW1iZXIgPSAxO1xyXG4gIGN1cnJlbnRTb3J0OiB7Y29sdW1uOiBzdHJpbmcsIGRpcmVjdGlvbjogJ2FzYycgfCAnZGVzYyd9IHwgbnVsbCA9IG51bGw7XHJcbiAgcGFnaW5hdGlvbkluZm86IFBhZ2luYXRpb25JbmZvID0ge1xyXG4gICAgY3VycmVudFBhZ2U6IDEsXHJcbiAgICB0b3RhbFBhZ2VzOiAwLFxyXG4gICAgdG90YWxJdGVtczogMCxcclxuICAgIGl0ZW1zUGVyUGFnZTogMTAsXHJcbiAgICBzdGFydEl0ZW06IDAsXHJcbiAgICBlbmRJdGVtOiAwXHJcbiAgfTtcclxuXHJcbiAgcGFnaW5hdGVkRGF0YTogVGFibGVEYXRhW10gPSBbXTtcclxuICBpdGVtc1BlclBhZ2VPcHRpb25zOiBudW1iZXJbXSA9IFs1LCAxMCwgMjUsIDUwLCAxMDBdO1xyXG4gIFxyXG4gIC8vIFByb3BpZWRhZCBwYXJhIGNvbnRyb2xhciBsYSBhbmltYWNpw7NuXHJcbiAgYW5pbWF0aW9uS2V5OiBudW1iZXIgPSAwO1xyXG5cclxuICAvLyBQcm9waWVkYWQgcGFyYSBhY2NlZGVyIGEgQXJyYXkgZGVzZGUgZWwgdGVtcGxhdGVcclxuICBBcnJheSA9IEFycmF5O1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuICBuZ09uSW5pdCgpOiB2b2lkIHtcclxuICAgIHRoaXMudXBkYXRlUGFnaW5hdGlvbigpO1xyXG4gICAgdGhpcy5zZXR1cFJlc2l6ZUxpc3RlbmVyKCk7XHJcbiAgfVxyXG5cclxuICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKTogdm9pZCB7XHJcbiAgICBpZiAoY2hhbmdlc1snZGF0YSddIHx8IGNoYW5nZXNbJ2l0ZW1zUGVyUGFnZSddIHx8IGNoYW5nZXNbJ2N1cnJlbnRQYWdlJ10pIHtcclxuICAgICAgdGhpcy51cGRhdGVQYWdpbmF0aW9uKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB1cGRhdGVQYWdpbmF0aW9uKCk6IHZvaWQge1xyXG4gICAgaWYgKCF0aGlzLmRhdGEpIHtcclxuICAgICAgdGhpcy5wYWdpbmF0ZWREYXRhID0gW107XHJcbiAgICAgIHRoaXMucGFnaW5hdGlvbkluZm8gPSB7XHJcbiAgICAgICAgY3VycmVudFBhZ2U6IDEsXHJcbiAgICAgICAgdG90YWxQYWdlczogMCxcclxuICAgICAgICB0b3RhbEl0ZW1zOiAwLFxyXG4gICAgICAgIGl0ZW1zUGVyUGFnZTogdGhpcy5pdGVtc1BlclBhZ2UsXHJcbiAgICAgICAgc3RhcnRJdGVtOiAwLFxyXG4gICAgICAgIGVuZEl0ZW06IDBcclxuICAgICAgfTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHRvdGFsSXRlbXMgPSB0aGlzLmRhdGEubGVuZ3RoO1xyXG4gICAgY29uc3QgdG90YWxQYWdlcyA9IE1hdGguY2VpbCh0b3RhbEl0ZW1zIC8gdGhpcy5pdGVtc1BlclBhZ2UpO1xyXG4gICAgY29uc3Qgc3RhcnRJdGVtID0gKHRoaXMuY3VycmVudFBhZ2UgLSAxKSAqIHRoaXMuaXRlbXNQZXJQYWdlO1xyXG4gICAgY29uc3QgZW5kSXRlbSA9IE1hdGgubWluKHN0YXJ0SXRlbSArIHRoaXMuaXRlbXNQZXJQYWdlLCB0b3RhbEl0ZW1zKTtcclxuXHJcbiAgICB0aGlzLnBhZ2luYXRpb25JbmZvID0ge1xyXG4gICAgICBjdXJyZW50UGFnZTogdGhpcy5jdXJyZW50UGFnZSxcclxuICAgICAgdG90YWxQYWdlcyxcclxuICAgICAgdG90YWxJdGVtcyxcclxuICAgICAgaXRlbXNQZXJQYWdlOiB0aGlzLml0ZW1zUGVyUGFnZSxcclxuICAgICAgc3RhcnRJdGVtOiBzdGFydEl0ZW0gKyAxLFxyXG4gICAgICBlbmRJdGVtXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMucGFnaW5hdGVkRGF0YSA9IHRoaXMuZGF0YS5zbGljZShzdGFydEl0ZW0sIGVuZEl0ZW0pO1xyXG4gIH1cclxuXHJcbiAgb25QYWdlQ2hhbmdlKHBhZ2U6IG51bWJlcik6IHZvaWQge1xyXG4gICAgaWYgKHBhZ2UgPj0gMSAmJiBwYWdlIDw9IHRoaXMucGFnaW5hdGlvbkluZm8udG90YWxQYWdlcykge1xyXG4gICAgICB0aGlzLmN1cnJlbnRQYWdlID0gcGFnZTtcclxuICAgICAgdGhpcy5hbmltYXRpb25LZXkgPSAwOyAvLyBSZWluaWNpYXIgbGEgYW5pbWFjacOzblxyXG4gICAgICB0aGlzLnVwZGF0ZVBhZ2luYXRpb24oKTtcclxuICAgICAgdGhpcy5wYWdlQ2hhbmdlLmVtaXQocGFnZSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBBY3RpdmFyIGxhIGFuaW1hY2nDs24gZGVzcHXDqXMgZGUgdW4gYnJldmUgZGVsYXlcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25LZXkgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIE1hcmNhciBjb21vIGNvbXBsZXRhIGRlc3B1w6lzIGRlIGxhIGR1cmFjacOzbiBkZSBsYSBhbmltYWNpw7NuXHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCB0Ym9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3Rib2R5W2RhdGEtYW5pbWF0aW9uLWtleV0nKSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICAgIGlmICh0Ym9keSkge1xyXG4gICAgICAgICAgICB0Ym9keS5jbGFzc0xpc3QuYWRkKCdhbmltYXRpb24tY29tcGxldGUnKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LCAzMDApOyAvLyBEdXJhY2nDs24gZGUgbGEgYW5pbWFjacOzblxyXG4gICAgICB9LCAxMCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvbkl0ZW1zUGVyUGFnZUNoYW5nZShpdGVtc1BlclBhZ2U6IG51bWJlcik6IHZvaWQge1xyXG4gICAgdGhpcy5pdGVtc1BlclBhZ2UgPSBpdGVtc1BlclBhZ2U7XHJcbiAgICB0aGlzLmN1cnJlbnRQYWdlID0gMTtcclxuICAgIHRoaXMuYW5pbWF0aW9uS2V5ID0gMDsgLy8gUmVpbmljaWFyIGxhIGFuaW1hY2nDs25cclxuICAgIHRoaXMudXBkYXRlUGFnaW5hdGlvbigpO1xyXG4gICAgdGhpcy5pdGVtc1BlclBhZ2VDaGFuZ2UuZW1pdChpdGVtc1BlclBhZ2UpO1xyXG4gICAgXHJcbiAgICAvLyBBY3RpdmFyIGxhIGFuaW1hY2nDs24gZGVzcHXDqXMgZGUgdW4gYnJldmUgZGVsYXlcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICB0aGlzLmFuaW1hdGlvbktleSA9IERhdGUubm93KCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBNYXJjYXIgY29tbyBjb21wbGV0YSBkZXNwdcOpcyBkZSBsYSBkdXJhY2nDs24gZGUgbGEgYW5pbWFjacOzblxyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICBjb25zdCB0Ym9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3Rib2R5W2RhdGEtYW5pbWF0aW9uLWtleV0nKSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICBpZiAodGJvZHkpIHtcclxuICAgICAgICAgIHRib2R5LmNsYXNzTGlzdC5hZGQoJ2FuaW1hdGlvbi1jb21wbGV0ZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSwgMzAwKTsgLy8gRHVyYWNpw7NuIGRlIGxhIGFuaW1hY2nDs25cclxuICAgIH0sIDEwKTtcclxuICB9XHJcblxyXG4gIG9uU29ydChjb2x1bW46IHN0cmluZyk6IHZvaWQge1xyXG4gICAgaWYgKCF0aGlzLmNvbHVtbnMuZmluZChjb2wgPT4gY29sLmtleSA9PT0gY29sdW1uKT8uc29ydGFibGUpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmN1cnJlbnRTb3J0Py5jb2x1bW4gPT09IGNvbHVtbikge1xyXG4gICAgICB0aGlzLmN1cnJlbnRTb3J0LmRpcmVjdGlvbiA9IHRoaXMuY3VycmVudFNvcnQuZGlyZWN0aW9uID09PSAnYXNjJyA/ICdkZXNjJyA6ICdhc2MnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5jdXJyZW50U29ydCA9IHsgY29sdW1uLCBkaXJlY3Rpb246ICdhc2MnIH07XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5zb3J0Q2hhbmdlLmVtaXQodGhpcy5jdXJyZW50U29ydCk7XHJcbiAgfVxyXG5cclxuICBnZXRTb3J0SWNvbihjb2x1bW46IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICBpZiAodGhpcy5jdXJyZW50U29ydD8uY29sdW1uICE9PSBjb2x1bW4pIHtcclxuICAgICAgcmV0dXJuICdiaS1hcnJvdy1kb3duLXVwJztcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzLmN1cnJlbnRTb3J0LmRpcmVjdGlvbiA9PT0gJ2FzYycgPyAnYmktYXJyb3ctdXAnIDogJ2JpLWFycm93LWRvd24nO1xyXG4gIH1cclxuXHJcbiAgZ2V0UGFnZU51bWJlcnMoKTogbnVtYmVyW10ge1xyXG4gICAgY29uc3QgcGFnZXM6IG51bWJlcltdID0gW107XHJcbiAgICBjb25zdCB0b3RhbFBhZ2VzID0gdGhpcy5wYWdpbmF0aW9uSW5mby50b3RhbFBhZ2VzO1xyXG4gICAgY29uc3QgY3VycmVudFBhZ2UgPSB0aGlzLmN1cnJlbnRQYWdlO1xyXG4gICAgXHJcbiAgICAvLyBEZXRlY3RhciBzaSBlc3RhbW9zIGVuIHVuIGRpc3Bvc2l0aXZvIHBlcXVlw7FvIChtZW5vcyBkZSA3NjhweClcclxuICAgIGNvbnN0IGlzU21hbGxTY3JlZW4gPSB3aW5kb3cuaW5uZXJXaWR0aCA8IDc2ODtcclxuXHJcbiAgICBpZiAodG90YWxQYWdlcyA8PSA3KSB7XHJcbiAgICAgIC8vIFBhcmEgcG9jYXMgcMOhZ2luYXMsIG1vc3RyYXIgdG9kYXNcclxuICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gdG90YWxQYWdlczsgaSsrKSB7XHJcbiAgICAgICAgcGFnZXMucHVzaChpKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChpc1NtYWxsU2NyZWVuKSB7XHJcbiAgICAgIC8vIEVuIGRpc3Bvc2l0aXZvcyBwZXF1ZcOxb3MsIG1vc3RyYXIgc29sbyAyIHDDoWdpbmFzIG3DoXhpbW9cclxuICAgICAgaWYgKGN1cnJlbnRQYWdlIDw9IDIpIHtcclxuICAgICAgICAvLyBBbCBpbmljaW86IG1vc3RyYXIgcMOhZ2luYXMgMSwgMiArIHNlcGFyYWRvciArIMO6bHRpbWFcclxuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBNYXRoLm1pbigyLCB0b3RhbFBhZ2VzKTsgaSsrKSB7XHJcbiAgICAgICAgICBwYWdlcy5wdXNoKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodG90YWxQYWdlcyA+IDIpIHtcclxuICAgICAgICAgIHBhZ2VzLnB1c2goLTEpOyAvLyBTZXBhcmF0b3JcclxuICAgICAgICAgIHBhZ2VzLnB1c2godG90YWxQYWdlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKGN1cnJlbnRQYWdlID49IHRvdGFsUGFnZXMgLSAxKSB7XHJcbiAgICAgICAgLy8gQWwgZmluYWw6IG1vc3RyYXIgcHJpbWVyYSArIHNlcGFyYWRvciArIMO6bHRpbWFzIDIgcMOhZ2luYXNcclxuICAgICAgICBwYWdlcy5wdXNoKDEpO1xyXG4gICAgICAgIHBhZ2VzLnB1c2goLTEpOyAvLyBTZXBhcmF0b3JcclxuICAgICAgICBmb3IgKGxldCBpID0gTWF0aC5tYXgodG90YWxQYWdlcyAtIDEsIDEpOyBpIDw9IHRvdGFsUGFnZXM7IGkrKykge1xyXG4gICAgICAgICAgcGFnZXMucHVzaChpKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gRW4gbWVkaW86IG1vc3RyYXIgcHJpbWVyYSArIHNlcGFyYWRvciArIGFjdHVhbCArIHNlcGFyYWRvciArIMO6bHRpbWFcclxuICAgICAgICBwYWdlcy5wdXNoKDEpO1xyXG4gICAgICAgIHBhZ2VzLnB1c2goLTEpOyAvLyBTZXBhcmF0b3JcclxuICAgICAgICBwYWdlcy5wdXNoKGN1cnJlbnRQYWdlKTtcclxuICAgICAgICBwYWdlcy5wdXNoKC0xKTsgLy8gU2VwYXJhdG9yXHJcbiAgICAgICAgcGFnZXMucHVzaCh0b3RhbFBhZ2VzKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gRW4gcGFudGFsbGFzIGdyYW5kZXMsIGNvbXBvcnRhbWllbnRvIG9yaWdpbmFsXHJcbiAgICAgIGlmIChjdXJyZW50UGFnZSA8PSA0KSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gNTsgaSsrKSB7XHJcbiAgICAgICAgICBwYWdlcy5wdXNoKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwYWdlcy5wdXNoKC0xKTsgLy8gU2VwYXJhdG9yXHJcbiAgICAgICAgcGFnZXMucHVzaCh0b3RhbFBhZ2VzKTtcclxuICAgICAgfSBlbHNlIGlmIChjdXJyZW50UGFnZSA+PSB0b3RhbFBhZ2VzIC0gMykge1xyXG4gICAgICAgIHBhZ2VzLnB1c2goMSk7XHJcbiAgICAgICAgcGFnZXMucHVzaCgtMSk7IC8vIFNlcGFyYXRvclxyXG4gICAgICAgIGZvciAobGV0IGkgPSB0b3RhbFBhZ2VzIC0gNDsgaSA8PSB0b3RhbFBhZ2VzOyBpKyspIHtcclxuICAgICAgICAgIHBhZ2VzLnB1c2goaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHBhZ2VzLnB1c2goMSk7XHJcbiAgICAgICAgcGFnZXMucHVzaCgtMSk7IC8vIFNlcGFyYXRvclxyXG4gICAgICAgIGZvciAobGV0IGkgPSBjdXJyZW50UGFnZSAtIDE7IGkgPD0gY3VycmVudFBhZ2UgKyAxOyBpKyspIHtcclxuICAgICAgICAgIHBhZ2VzLnB1c2goaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBhZ2VzLnB1c2goLTEpOyAvLyBTZXBhcmF0b3JcclxuICAgICAgICBwYWdlcy5wdXNoKHRvdGFsUGFnZXMpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHBhZ2VzO1xyXG4gIH1cclxuXHJcbiAgdHJhY2tCeUZuKGluZGV4OiBudW1iZXIsIGl0ZW06IGFueSk6IGFueSB7XHJcbiAgICByZXR1cm4gaW5kZXg7XHJcbiAgfVxyXG5cclxuICAvLyBNw6l0b2RvIHBhcmEgb2J0ZW5lciBlbCB0ZW1wbGF0ZSBkZSB1bmEgY29sdW1uYSBlc3BlY8OtZmljYVxyXG4gIGdldENvbHVtblRlbXBsYXRlKGNvbHVtbktleTogc3RyaW5nKTogVGVtcGxhdGVSZWY8YW55PiB8IG51bGwge1xyXG4gICAgaWYgKCF0aGlzLmNvbHVtbkRlZnMpIHtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnN0IGNvbHVtbkRlZiA9IHRoaXMuY29sdW1uRGVmcy5maW5kKGRlZiA9PiBkZWYuY29sdW1uS2V5ID09PSBjb2x1bW5LZXkpO1xyXG4gICAgcmV0dXJuIGNvbHVtbkRlZiA/IGNvbHVtbkRlZi50ZW1wbGF0ZVJlZiA6IG51bGw7XHJcbiAgfVxyXG5cclxuICAvLyBNw6l0b2RvIHBhcmEgb2J0ZW5lciBlbCBjb250ZXh0byBkZWwgdGVtcGxhdGVcclxuICBnZXRUZW1wbGF0ZUNvbnRleHQocm93OiBUYWJsZURhdGEsIGNvbHVtbjogVGFibGVDb2x1bW4pOiBhbnkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgJGltcGxpY2l0OiByb3dbY29sdW1uLmtleV0sXHJcbiAgICAgIHJvdzogcm93LFxyXG4gICAgICBjb2x1bW46IGNvbHVtbixcclxuICAgICAgZWxlbWVudDogcm93LCAvLyBQYXJhIGNvbXBhdGliaWxpZGFkIGNvbiBBbmd1bGFyIE1hdGVyaWFsXHJcbiAgICAgIHZhbHVlOiByb3dbY29sdW1uLmtleV1cclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBvblNlbGVjdENoYW5nZShldmVudDogRXZlbnQpOiB2b2lkIHtcclxuICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MU2VsZWN0RWxlbWVudDtcclxuICAgIGlmICh0YXJnZXQpIHtcclxuICAgICAgdGhpcy5vbkl0ZW1zUGVyUGFnZUNoYW5nZSgrdGFyZ2V0LnZhbHVlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgc2V0dXBSZXNpemVMaXN0ZW5lcigpOiB2b2lkIHtcclxuICAgIHRoaXMucmVzaXplTGlzdGVuZXIgPSAoKSA9PiB7XHJcbiAgICAgIC8vIEFjdHVhbGl6YXIgcGFnaW5hY2nDs24gY3VhbmRvIGNhbWJpZSBlbCB0YW1hw7FvIGRlIGxhIHZlbnRhbmFcclxuICAgICAgdGhpcy51cGRhdGVQYWdpbmF0aW9uKCk7XHJcbiAgICB9O1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVzaXplTGlzdGVuZXIpO1xyXG4gIH1cclxuXHJcbiAgbmdPbkRlc3Ryb3koKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5yZXNpemVMaXN0ZW5lcikge1xyXG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZXNpemVMaXN0ZW5lcik7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIjwhLS0gVGFibGUgQ29udGFpbmVyIC0tPlxyXG48ZGl2IGNsYXNzPVwic2EtdGFibGUtY29udGFpbmVyXCI+XHJcbiAgPCEtLSBUYWJsZSBDb250ZW50IChzaWVtcHJlIHZpc2libGUpIC0tPlxyXG4gIDxkaXYgY2xhc3M9XCJ0YWJsZS1jb250ZW50XCIgW2NsYXNzLmxvYWRpbmddPVwibG9hZGluZ1wiPlxyXG4gIFxyXG4gIDwhLS0gVGFibGUgLS0+XHJcbiAgPGRpdiBjbGFzcz1cInRhYmxlLXJlc3BvbnNpdmUgdGFibGUtY29udGFpbmVyXCI+XHJcbiAgICA8dGFibGUgY2xhc3M9XCJ0YWJsZVwiIFxyXG4gICAgICAgICAgIFtjbGFzcy50YWJsZS1ob3Zlcl09XCJob3ZlclwiXHJcbiAgICAgICAgICAgW3N0eWxlLm1pbi13aWR0aF09XCJtaW5XaWR0aFwiPlxyXG4gICAgICA8dGhlYWQgY2xhc3M9XCJ0YWJsZS1saWdodFwiPlxyXG4gICAgICAgIDx0cj5cclxuICAgICAgICAgIDx0aCAqbmdGb3I9XCJsZXQgY29sdW1uIG9mIGNvbHVtbnNcIiBcclxuICAgICAgICAgICAgICBbc3R5bGUud2lkdGhdPVwiY29sdW1uLndpZHRoXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1iZXR3ZWVuXCI+XHJcbiAgICAgICAgICAgICAgPHNwYW4+e3sgY29sdW1uLmxhYmVsIH19PC9zcGFuPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvdGg+XHJcbiAgICAgICAgPC90cj5cclxuICAgICAgPC90aGVhZD5cclxuICAgICAgPHRib2R5IFtjbGFzcy5hbmltYXRlLWZhZGUtaW5dPVwiYW5pbWF0aW9uS2V5ID4gMFwiIFtjbGFzcy5hbmltYXRpb24tY29tcGxldGVdPVwiYW5pbWF0aW9uS2V5ID4gMFwiIFthdHRyLmRhdGEtYW5pbWF0aW9uLWtleV09XCJhbmltYXRpb25LZXlcIj5cclxuICAgICAgICA8dHIgKm5nRm9yPVwibGV0IHJvdyBvZiBwYWdpbmF0ZWREYXRhOyB0cmFja0J5OiB0cmFja0J5Rm5cIj5cclxuICAgICAgICAgIDx0ZCAqbmdGb3I9XCJsZXQgY29sdW1uIG9mIGNvbHVtbnNcIiBbc3R5bGUud2lkdGhdPVwiY29sdW1uLndpZHRoXCI+XHJcbiAgICAgICAgICAgIDwhLS0gVXNhciB0ZW1wbGF0ZSBlc3BlY8OtZmljbyBkZSBsYSBjb2x1bW5hIHNpIGV4aXN0ZSwgc2lubyB1c2FyIGVsIGRlZmF1bHQgLS0+XHJcbiAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nVGVtcGxhdGVPdXRsZXQ9XCJnZXRDb2x1bW5UZW1wbGF0ZShjb2x1bW4ua2V5KSB8fCBkZWZhdWx0Q2VsbFRlbXBsYXRlITsgY29udGV4dDogZ2V0VGVtcGxhdGVDb250ZXh0KHJvdywgY29sdW1uKVwiPlxyXG4gICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgPC90cj5cclxuICAgICAgICA8dHIgKm5nSWY9XCJwYWdpbmF0ZWREYXRhLmxlbmd0aCA9PT0gMFwiPlxyXG4gICAgICAgICAgPHRkIFthdHRyLmNvbHNwYW5dPVwiY29sdW1ucy5sZW5ndGhcIiBjbGFzcz1cInRleHQtY2VudGVyIHB5LTQgdGV4dC1tdXRlZFwiPlxyXG4gICAgICAgICAgICB7eyBlbXB0eU1lc3NhZ2UgfX1cclxuICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgPC90cj5cclxuICAgICAgPC90Ym9keT5cclxuICAgIDwvdGFibGU+XHJcbiAgICBcclxuICAgIDwhLS0gTG9hZGluZyBPdmVybGF5IHNvbG8gc29icmUgbGEgdGFibGEgLS0+XHJcbiAgICA8ZGl2ICpuZ0lmPVwibG9hZGluZ1wiIGNsYXNzPVwibG9hZGluZy1vdmVybGF5XCI+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJsb2FkaW5nLWNvbnRlbnRcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwic3Bpbm5lci1ib3JkZXIgdGV4dC1wcmltYXJ5XCIgcm9sZT1cInN0YXR1c1wiPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJsb2FkaW5nLXRleHRcIj5DYXJnYW5kby4uLjwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gIDwvZGl2PlxyXG5cclxuICA8IS0tIEl0ZW1zIFBlciBQYWdlIFNlbGVjdG9yIGFuZCBQYWdpbmF0aW9uIENvbnRyb2xzIChlbiB1bmEgc29sYSBmaWxhKSAtLT5cclxuICA8ZGl2ICpuZ0lmPVwic2hvd1BhZ2luYXRpb24gJiYgZGF0YS5sZW5ndGggPiAwXCIgY2xhc3M9XCJkLWZsZXggZmxleC1jb2x1bW4gZmxleC1tZC1yb3cganVzdGlmeS1jb250ZW50LWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtbWQtYmV0d2VlbiBhbGlnbi1pdGVtcy1jZW50ZXIgbXQtMlwiPlxyXG4gICAgPCEtLSBJdGVtcyBQZXIgUGFnZSBTZWxlY3RvciAoaXpxdWllcmRhKSAtLT5cclxuICAgIDxkaXYgKm5nSWY9XCJzaG93SXRlbXNQZXJQYWdlXCIgY2xhc3M9XCJkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIG1iLTIgbWItbWQtMFwiPlxyXG4gICAgICA8c3BhbiBjbGFzcz1cInRleHQtbXV0ZWQgbWUtMlwiPlJlZ2lzdHJvcyBwb3IgcMOhZ2luYTo8L3NwYW4+XHJcbiAgICAgIDxzZWxlY3QgXHJcbiAgICAgICAgaWQ9XCJpdGVtc1BlclBhZ2VcIlxyXG4gICAgICAgIGNsYXNzPVwiZm9ybS1zZWxlY3QgZm9ybS1zZWxlY3Qtc21cIiBcclxuICAgICAgICBzdHlsZT1cIndpZHRoOiBhdXRvO1wiXHJcbiAgICAgICAgW3ZhbHVlXT1cIml0ZW1zUGVyUGFnZVwiXHJcbiAgICAgICAgKGNoYW5nZSk9XCJvblNlbGVjdENoYW5nZSgkZXZlbnQpXCI+XHJcbiAgICAgICAgPG9wdGlvbiAqbmdGb3I9XCJsZXQgb3B0aW9uIG9mIGl0ZW1zUGVyUGFnZU9wdGlvbnNcIiBbdmFsdWVdPVwib3B0aW9uXCI+XHJcbiAgICAgICAgICB7eyBvcHRpb24gfX1cclxuICAgICAgICA8L29wdGlvbj5cclxuICAgICAgPC9zZWxlY3Q+XHJcbiAgICA8L2Rpdj5cclxuICAgIFxyXG4gICAgPCEtLSBQYWdpbmF0aW9uIEluZm8gYW5kIENvbnRyb2xzIChkZXJlY2hhKSAtLT5cclxuICAgIDxkaXYgY2xhc3M9XCJkLWZsZXggZmxleC1jb2x1bW4gZmxleC1tZC1yb3cgYWxpZ24taXRlbXMtY2VudGVyXCI+XHJcbiAgICAgIDxkaXYgKm5nSWY9XCJzaG93VG90YWxcIiBjbGFzcz1cInRleHQtbXV0ZWQgbWItMiBtYi1tZC0wIG1lLW1kLTMgdGV4dC1jZW50ZXIgdGV4dC1tZC1zdGFydFwiPlxyXG4gICAgICAgIFDDoWdpbmE6IHt7IHBhZ2luYXRpb25JbmZvLmN1cnJlbnRQYWdlIH19IC0ge3sgcGFnaW5hdGlvbkluZm8uc3RhcnRJdGVtIH19IGRlIHt7IHBhZ2luYXRpb25JbmZvLnRvdGFsSXRlbXMgfX1cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIFxyXG4gICAgICA8bmF2ICpuZ0lmPVwicGFnaW5hdGlvbkluZm8udG90YWxQYWdlcyA+IDFcIiBhcmlhLWxhYmVsPVwiTmF2ZWdhY2nDs24gZGUgcMOhZ2luYXNcIj5cclxuICAgICAgICA8dWwgY2xhc3M9XCJwYWdpbmF0aW9uIG1iLTAganVzdGlmeS1jb250ZW50LWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtbWQtc3RhcnRcIj5cclxuICAgICAgICAgICAgICAgIDwhLS0gRmlyc3QgUGFnZSBCdXR0b24gLS0+XHJcbiAgICAgICAgPGxpICpuZ0lmPVwic2hvd0ZpcnN0TGFzdEJ1dHRvbnNcIiBjbGFzcz1cInBhZ2UtaXRlbVwiIFtjbGFzcy5kaXNhYmxlZF09XCJjdXJyZW50UGFnZSA9PT0gMVwiPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInBhZ2UtbGlua1wiIFxyXG4gICAgICAgICAgICAgICAgICAoY2xpY2spPVwib25QYWdlQ2hhbmdlKDEpXCJcclxuICAgICAgICAgICAgICAgICAgW2Rpc2FibGVkXT1cImN1cnJlbnRQYWdlID09PSAxXCJcclxuICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIlByaW1lcmEgcMOhZ2luYVwiPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cInBhZ2luYXRpb24taWNvbiBwYWdpbmF0aW9uLWZpcnN0XCI+wqs8L3NwYW4+XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICA8L2xpPlxyXG5cclxuICAgICAgICA8IS0tIFByZXZpb3VzIEJ1dHRvbiAtLT5cclxuICAgICAgICA8bGkgY2xhc3M9XCJwYWdlLWl0ZW1cIiBbY2xhc3MuZGlzYWJsZWRdPVwiY3VycmVudFBhZ2UgPT09IDFcIj5cclxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJwYWdlLWxpbmtcIiBcclxuICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cIm9uUGFnZUNoYW5nZShjdXJyZW50UGFnZSAtIDEpXCJcclxuICAgICAgICAgICAgICAgICAgW2Rpc2FibGVkXT1cImN1cnJlbnRQYWdlID09PSAxXCJcclxuICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIlDDoWdpbmEgYW50ZXJpb3JcIj5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJwYWdpbmF0aW9uLWljb25cIj7igLk8L3NwYW4+XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICA8L2xpPlxyXG5cclxuICAgICAgICA8IS0tIFBhZ2UgTnVtYmVycyAtLT5cclxuICAgICAgICA8bGkgKm5nRm9yPVwibGV0IHBhZ2Ugb2YgZ2V0UGFnZU51bWJlcnMoKVwiIFxyXG4gICAgICAgICAgICBjbGFzcz1cInBhZ2UtaXRlbVwiXHJcbiAgICAgICAgICAgIFtjbGFzcy5hY3RpdmVdPVwicGFnZSA9PT0gY3VycmVudFBhZ2VcIlxyXG4gICAgICAgICAgICBbY2xhc3MuZGlzYWJsZWRdPVwicGFnZSA9PT0gLTFcIj5cclxuICAgICAgICAgIDxidXR0b24gKm5nSWY9XCJwYWdlICE9PSAtMVwiIFxyXG4gICAgICAgICAgICAgICAgICBjbGFzcz1cInBhZ2UtbGlua1wiIFxyXG4gICAgICAgICAgICAgICAgICAoY2xpY2spPVwib25QYWdlQ2hhbmdlKHBhZ2UpXCI+XHJcbiAgICAgICAgICAgIHt7IHBhZ2UgfX1cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPHNwYW4gKm5nSWY9XCJwYWdlID09PSAtMVwiIGNsYXNzPVwicGFnZS1saW5rXCI+Li4uPC9zcGFuPlxyXG4gICAgICAgIDwvbGk+XHJcblxyXG4gICAgICAgIDwhLS0gTmV4dCBCdXR0b24gLS0+XHJcbiAgICAgICAgPGxpIGNsYXNzPVwicGFnZS1pdGVtXCIgW2NsYXNzLmRpc2FibGVkXT1cImN1cnJlbnRQYWdlID09PSBwYWdpbmF0aW9uSW5mby50b3RhbFBhZ2VzXCI+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicGFnZS1saW5rXCIgXHJcbiAgICAgICAgICAgICAgICAgIChjbGljayk9XCJvblBhZ2VDaGFuZ2UoY3VycmVudFBhZ2UgKyAxKVwiXHJcbiAgICAgICAgICAgICAgICAgIFtkaXNhYmxlZF09XCJjdXJyZW50UGFnZSA9PT0gcGFnaW5hdGlvbkluZm8udG90YWxQYWdlc1wiXHJcbiAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJQw6FnaW5hIHNpZ3VpZW50ZVwiPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cInBhZ2luYXRpb24taWNvblwiPuKAujwvc3Bhbj5cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDwvbGk+XHJcblxyXG4gICAgICAgIDwhLS0gTGFzdCBQYWdlIEJ1dHRvbiAtLT5cclxuICAgICAgICA8bGkgKm5nSWY9XCJzaG93Rmlyc3RMYXN0QnV0dG9uc1wiIGNsYXNzPVwicGFnZS1pdGVtXCIgW2NsYXNzLmRpc2FibGVkXT1cImN1cnJlbnRQYWdlID09PSBwYWdpbmF0aW9uSW5mby50b3RhbFBhZ2VzXCI+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicGFnZS1saW5rXCIgXHJcbiAgICAgICAgICAgICAgICAgIChjbGljayk9XCJvblBhZ2VDaGFuZ2UocGFnaW5hdGlvbkluZm8udG90YWxQYWdlcylcIlxyXG4gICAgICAgICAgICAgICAgICBbZGlzYWJsZWRdPVwiY3VycmVudFBhZ2UgPT09IHBhZ2luYXRpb25JbmZvLnRvdGFsUGFnZXNcIlxyXG4gICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiw5psdGltYSBww6FnaW5hXCI+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicGFnaW5hdGlvbi1pY29uIHBhZ2luYXRpb24tbGFzdFwiPsK7PC9zcGFuPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgPC9saT5cclxuICAgICAgICA8L3VsPlxyXG4gICAgICA8L25hdj5cclxuICAgIDwvZGl2PlxyXG4gIDwvZGl2PlxyXG48L2Rpdj5cclxuXHJcbjwhLS0gVGVtcGxhdGUgcG9yIGRlZmVjdG8gcGFyYSBjZWxkYXMgLS0+XHJcbjxuZy10ZW1wbGF0ZSAjZGVmYXVsdENlbGxUZW1wbGF0ZSBsZXQtZWxlbWVudD1cImVsZW1lbnRcIiBsZXQtY29sdW1uPVwiY29sdW1uXCI+XHJcbiAge3sgZWxlbWVudFtjb2x1bW4ua2V5XSB9fVxyXG48L25nLXRlbXBsYXRlPlxyXG4iXX0=